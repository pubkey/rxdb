{"version":3,"file":"rx-query-mingo.js","names":["_core","require","_query","_pipeline","_logical","_comparison","_evaluation","_array","_element","mingoInitDone","getMingoQuery","selector","useOperators","$sort","$project","$and","$eq","$elemMatch","$exists","$gt","$gte","$in","$lt","$lte","$ne","$nin","$mod","$nor","$not","$or","$regex","$size","$type","Query"],"sources":["../../src/rx-query-mingo.ts"],"sourcesContent":["import { useOperators } from 'mingo/core';\nimport { Query } from 'mingo/query';\nimport type { MangoQuerySelector } from './types/index.d.ts';\nimport {\n    $project,\n    $sort\n} from 'mingo/operators/pipeline';\nimport {\n    $and,\n    $not,\n    $or,\n    $nor\n} from 'mingo/operators/query/logical';\nimport {\n    $eq,\n    $ne,\n    $gt,\n    $gte,\n    $lt,\n    $lte,\n    $nin,\n    $in\n} from 'mingo/operators/query/comparison';\nimport {\n    $regex,\n    $mod\n} from 'mingo/operators/query/evaluation';\nimport {\n    $elemMatch,\n    $size\n} from 'mingo/operators/query/array';\nimport {\n    $exists,\n    $type\n} from 'mingo/operators/query/element';\n\nlet mingoInitDone = false;\n\n\n/**\n * The MongoDB query library is huge and we do not need all the operators.\n * If you add an operator here, make sure that you properly add a test in\n * the file /test/unit/rx-storage-query-correctness.test.ts\n *\n * @link https://github.com/kofrasa/mingo#es6\n */\nexport function getMingoQuery<RxDocType>(\n    selector?: MangoQuerySelector<RxDocType>\n) {\n    if (!mingoInitDone) {\n        useOperators('pipeline', {\n            $sort,\n            $project\n        } as any);\n        useOperators('query', {\n            $and,\n            $eq,\n            $elemMatch,\n            $exists,\n            $gt,\n            $gte,\n            $in,\n            $lt,\n            $lte,\n            $ne,\n            $nin,\n            $mod,\n            $nor,\n            $not,\n            $or,\n            $regex,\n            $size,\n            $type,\n        } as any);\n        mingoInitDone = true;\n    }\n    return new Query(selector as any);\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAEA,IAAAE,SAAA,GAAAF,OAAA;AAIA,IAAAG,QAAA,GAAAH,OAAA;AAMA,IAAAI,WAAA,GAAAJ,OAAA;AAUA,IAAAK,WAAA,GAAAL,OAAA;AAIA,IAAAM,MAAA,GAAAN,OAAA;AAIA,IAAAO,QAAA,GAAAP,OAAA;AAKA,IAAIQ,aAAa,GAAG,KAAK;;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,aAAaA,CACzBC,QAAwC,EAC1C;EACE,IAAI,CAACF,aAAa,EAAE;IAChB,IAAAG,kBAAY,EAAC,UAAU,EAAE;MACrBC,KAAK,EAALA,eAAK;MACLC,QAAQ,EAARA;IACJ,CAAQ,CAAC;IACT,IAAAF,kBAAY,EAAC,OAAO,EAAE;MAClBG,IAAI,EAAJA,aAAI;MACJC,GAAG,EAAHA,eAAG;MACHC,UAAU,EAAVA,iBAAU;MACVC,OAAO,EAAPA,gBAAO;MACPC,GAAG,EAAHA,eAAG;MACHC,IAAI,EAAJA,gBAAI;MACJC,GAAG,EAAHA,eAAG;MACHC,GAAG,EAAHA,eAAG;MACHC,IAAI,EAAJA,gBAAI;MACJC,GAAG,EAAHA,eAAG;MACHC,IAAI,EAAJA,gBAAI;MACJC,IAAI,EAAJA,gBAAI;MACJC,IAAI,EAAJA,aAAI;MACJC,IAAI,EAAJA,aAAI;MACJC,GAAG,EAAHA,YAAG;MACHC,MAAM,EAANA,kBAAM;MACNC,KAAK,EAALA,YAAK;MACLC,KAAK,EAALA;IACJ,CAAQ,CAAC;IACTvB,aAAa,GAAG,IAAI;EACxB;EACA,OAAO,IAAIwB,YAAK,CAACtB,QAAe,CAAC;AACrC","ignoreList":[]}