{"version":3,"sources":["../../../../../src/plugins/worker/workers/webpack.config.js"],"names":["path","require","TerserPlugin","projectRootPath","resolve","__dirname","babelConfig","module","exports","entry","output","filename","clean","mode","cache","type","cacheDirectory","devtool","rules","test","exclude","use","loader","options","extensions","fallback","fs","optimization","moduleIds","minimize","minimizer","terserOptions","format","comments","extractComments"],"mappings":"AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMC,YAAY,GAAGD,OAAO,CAAC,uBAAD,CAA5B;;AAEA,IAAME,eAAe,GAAGH,IAAI,CAACI,OAAL,CACpBC,SADoB,EAEpB,cAFoB,CAAxB;;AAKA,IAAMC,WAAW,GAAGL,OAAO,CAAC,0BAAD,CAA3B;;AACAM,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,KAAK,EAAE;AACH,oCAAgC,qEAD7B;AAEH,wBAAoB,yDAFjB;AAGH,qBAAiB,sDAHd;AAIH,iBAAa,kDAJV;AAKH,mBAAe,oDALZ;AAMH,sBAAkB,uDANf;AAOH,aAAS,8CAPN;AAQH,oBAAgB;AARb,GADM;AAWbC,EAAAA,MAAM,EAAE;AACJC,IAAAA,QAAQ,EAAE,kBADN;AAEJC,IAAAA,KAAK,EAAE,IAFH;AAGJZ,IAAAA,IAAI,EAAEA,IAAI,CAACI,OAAL,CACFD,eADE,EAEF,cAFE;AAHF,GAXK;AAmBbU,EAAAA,IAAI,EAAE,YAnBO;AAoBbC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAE,YADH;AAEHC,IAAAA,cAAc,EAAEhB,IAAI,CAACI,OAAL,CACZD,eADY,EAEZ,UAFY,EAGZ,eAHY;AAFb,GApBM;AA4Bbc,EAAAA,OAAO,EAAE,YA5BI;AA6BbV,EAAAA,MAAM,EAAE;AACJW,IAAAA,KAAK,EAAE;AACH;AACZ;AACA;AACA;AACA;AACY;AACIC,MAAAA,IAAI,EAAE,SADV;AAEIC,MAAAA,OAAO,EAAE,gBAFb;AAGIC,MAAAA,GAAG,EAAE;AACDC,QAAAA,MAAM,EAAE,cADP;AAEDC,QAAAA,OAAO,EAAEjB;AAFR;AAHT,KANG;AADH,GA7BK;AA8CbF,EAAAA,OAAO,EAAE;AACLoB,IAAAA,UAAU,EAAE,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CADP;;AAEL;AACR;AACA;AACA;AACQC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,EAAE,EAAE;AADE;AANL,GA9CI;AAwDbC,EAAAA,YAAY,EAAE;AACVC,IAAAA,SAAS,EAAE,eADD;AAEVC,IAAAA,QAAQ,EAAE,IAFA;AAGVC,IAAAA,SAAS,EAAE,CAAC,IAAI5B,YAAJ,CAAiB;AACzB6B,MAAAA,aAAa,EAAE;AACXC,QAAAA,MAAM,EAAE;AACJC,UAAAA,QAAQ,EAAE;AADN;AADG,OADU;;AAMzB;AACZ;AACA;AACA;AACYC,MAAAA,eAAe,EAAE;AAVQ,KAAjB,CAAD;AAHD;AAxDD,CAAjB","sourcesContent":["const path = require('path');\nconst TerserPlugin = require('terser-webpack-plugin');\n\nconst projectRootPath = path.resolve(\n    __dirname,\n    '../../../../'\n);\n\nconst babelConfig = require('../../../../babel.config');\nmodule.exports = {\n    entry: {\n        'lokijs-incremental-indexeddb': './src/plugins/worker/workers/lokijs-incremental-indexeddb.worker.ts',\n        'lokijs-indexeddb': './src/plugins/worker/workers/lokijs-indexeddb.worker.ts',\n        'lokijs-memory': './src/plugins/worker/workers/lokijs-memory.worker.ts',\n        'lokijs-fs': './src/plugins/worker/workers/lokijs-fs.worker.ts',\n        'pouchdb-idb': './src/plugins/worker/workers/pouchdb-idb.worker.ts',\n        'pouchdb-memory': './src/plugins/worker/workers/pouchdb-memory.worker.ts',\n        'dexie': './src/plugins/worker/workers/dexie.worker.ts',\n        'dexie-memory': './src/plugins/worker/workers/dexie-memory.worker.ts'\n    },\n    output: {\n        filename: '[name].worker.js',\n        clean: true,\n        path: path.resolve(\n            projectRootPath,\n            'dist/workers'\n        ),\n    },\n    mode: 'production',\n    cache: {\n        type: 'filesystem',\n        cacheDirectory: path.resolve(\n            projectRootPath,\n            'test_tmp',\n            'webpack-cache'\n        ),\n    },\n    devtool: 'source-map',\n    module: {\n        rules: [\n            /**\n             * We transpile the typscript via babel instead of ts-loader.\n             * This ensures we have the exact same babel config\n             * as the root RxDB project.\n             */\n            {\n                test: /\\.tsx?$/,\n                exclude: /(node_modules)/,\n                use: {\n                    loader: 'babel-loader',\n                    options: babelConfig\n                }\n            }\n        ],\n    },\n    resolve: {\n        extensions: ['.tsx', '.ts', '.js'],\n        /**\n         * Fix LokiJS bundle error\n         * @link https://rxdb.info/rx-storage-lokijs.html\n         */\n        fallback: {\n            fs: false\n        }\n    },\n    optimization: {\n        moduleIds: 'deterministic',\n        minimize: true,\n        minimizer: [new TerserPlugin({\n            terserOptions: {\n                format: {\n                    comments: false,\n                },\n            },\n            /**\n             * Disable creating the license files.\n             * @link https://github.com/webpack/webpack/issues/12506#issuecomment-789314176\n             */\n            extractComments: false,\n        })],\n    }\n};\n"],"file":"webpack.config.js"}