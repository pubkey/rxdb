{"version":3,"file":"storage-remote-types.js","names":[],"sources":["../../../../src/plugins/storage-remote/storage-remote-types.ts"],"sourcesContent":["import type { Observable } from 'rxjs';\nimport type {\n    MaybePromise,\n    PlainJsonError,\n    RxDatabase,\n    RxStorage,\n    RxStorageInstance,\n    RxStorageInstanceCreationParams,\n    RxStorageStatics\n} from '../../types';\n\n\n\nexport type MessageFromRemote = {\n    connectionId: string;\n    answerTo: string; // id of the request\n    method: keyof RxStorageInstance<any, any, any> | 'create' | 'custom';\n    error?: PlainJsonError;\n    return?: any;\n};\n\nexport type MessageToRemote = {\n    connectionId: string;\n    /**\n     * Unique ID of the request\n     */\n    requestId: string;\n    method: keyof RxStorageInstance<any, any, any> | 'create' | 'custom';\n    params:\n    RxStorageInstanceCreationParams<any, any> | // used in the create call\n    any[] | // used to call RxStorageInstance methods\n    any; // used in custom requests\n};\n\n\nexport type RxStorageRemoteSettings = {\n    identifier: string;\n    statics: RxStorageStatics;\n    send(msg: MessageToRemote): void;\n    messages$: Observable<MessageFromRemote>;\n};\n\nexport type RxStorageRemoteInternals = {\n    params: RxStorageInstanceCreationParams<any, any>;\n    connectionId: string;\n};\n\nexport type RxStorageRemoteExposeSettingsBase = {\n    send(msg: MessageFromRemote): void;\n    messages$: Observable<MessageToRemote>;\n    customRequestHandler?: CustomRequestHandler<any, any>;\n};\n\nexport type RxStorageRemoteExposeSettingsRxDatabase = RxStorageRemoteExposeSettingsBase & {\n    /**\n     * The database which must be mapped to the remote storage server.\n     */\n    database: RxDatabase;\n};\n\nexport type RxStorageRemoteExposeSettingsRxStorage = RxStorageRemoteExposeSettingsBase & {\n    /**\n     * The original storage\n     * which actually stores the data.\n     */\n    storage: RxStorage<any, any>;\n};\n\nexport type RxStorageRemoteExposeSettings = RxStorageRemoteExposeSettingsRxDatabase | RxStorageRemoteExposeSettingsRxStorage;\n\nexport type RxStorageRemoteExposeType = {\n    instanceByFullName: Map<string, any>;\n};\n\n/**\n * If set, the clients can send RxDB-unrelated custom messages\n * to the remote storage and it will  answer them.\n */\nexport type CustomRequestHandler<In, Out> = (data: In) => MaybePromise<Out>;\n"],"mappings":""}