{"version":3,"file":"rx-query-mingo.js","names":["useOperators","Query","$project","$sort","$and","$not","$or","$nor","$eq","$ne","$gt","$gte","$lt","$lte","$nin","$in","$regex","$mod","$elemMatch","$size","$exists","$type","mingoInitDone","getMingoQuery","selector"],"sources":["../../src/rx-query-mingo.ts"],"sourcesContent":["import { useOperators } from 'mingo/core';\nimport { Query } from 'mingo/query';\nimport type { MangoQuerySelector } from './types/index.d.ts';\nimport {\n    $project,\n    $sort\n} from 'mingo/operators/pipeline';\nimport {\n    $and,\n    $not,\n    $or,\n    $nor\n} from 'mingo/operators/query/logical';\nimport {\n    $eq,\n    $ne,\n    $gt,\n    $gte,\n    $lt,\n    $lte,\n    $nin,\n    $in\n} from 'mingo/operators/query/comparison';\nimport {\n    $regex,\n    $mod\n} from 'mingo/operators/query/evaluation';\nimport {\n    $elemMatch,\n    $size\n} from 'mingo/operators/query/array';\nimport {\n    $exists,\n    $type\n} from 'mingo/operators/query/element';\n\nlet mingoInitDone = false;\n\n\n/**\n * The MongoDB query library is huge and we do not need all the operators.\n * If you add an operator here, make sure that you properly add a test in\n * the file /test/unit/rx-storage-query-correctness.test.ts\n *\n * @link https://github.com/kofrasa/mingo#es6\n */\nexport function getMingoQuery<RxDocType>(\n    selector?: MangoQuerySelector<RxDocType>\n) {\n    if (!mingoInitDone) {\n        useOperators('pipeline', {\n            $sort,\n            $project\n        } as any);\n        useOperators('query', {\n            $and,\n            $eq,\n            $elemMatch,\n            $exists,\n            $gt,\n            $gte,\n            $in,\n            $lt,\n            $lte,\n            $ne,\n            $nin,\n            $mod,\n            $nor,\n            $not,\n            $or,\n            $regex,\n            $size,\n            $type,\n        } as any);\n        mingoInitDone = true;\n    }\n    return new Query(selector as any);\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,YAAY;AACzC,SAASC,KAAK,QAAQ,aAAa;AAEnC,SACIC,QAAQ,EACRC,KAAK,QACF,0BAA0B;AACjC,SACIC,IAAI,EACJC,IAAI,EACJC,GAAG,EACHC,IAAI,QACD,+BAA+B;AACtC,SACIC,GAAG,EACHC,GAAG,EACHC,GAAG,EACHC,IAAI,EACJC,GAAG,EACHC,IAAI,EACJC,IAAI,EACJC,GAAG,QACA,kCAAkC;AACzC,SACIC,MAAM,EACNC,IAAI,QACD,kCAAkC;AACzC,SACIC,UAAU,EACVC,KAAK,QACF,6BAA6B;AACpC,SACIC,OAAO,EACPC,KAAK,QACF,+BAA+B;AAEtC,IAAIC,aAAa,GAAG,KAAK;;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,aAAaA,CACzBC,QAAwC,EAC1C;EACE,IAAI,CAACF,aAAa,EAAE;IAChBtB,YAAY,CAAC,UAAU,EAAE;MACrBG,KAAK;MACLD;IACJ,CAAQ,CAAC;IACTF,YAAY,CAAC,OAAO,EAAE;MAClBI,IAAI;MACJI,GAAG;MACHU,UAAU;MACVE,OAAO;MACPV,GAAG;MACHC,IAAI;MACJI,GAAG;MACHH,GAAG;MACHC,IAAI;MACJJ,GAAG;MACHK,IAAI;MACJG,IAAI;MACJV,IAAI;MACJF,IAAI;MACJC,GAAG;MACHU,MAAM;MACNG,KAAK;MACLE;IACJ,CAAQ,CAAC;IACTC,aAAa,GAAG,IAAI;EACxB;EACA,OAAO,IAAIrB,KAAK,CAACuB,QAAe,CAAC;AACrC","ignoreList":[]}