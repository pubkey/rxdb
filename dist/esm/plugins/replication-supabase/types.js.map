{"version":3,"file":"types.js","names":[],"sources":["../../../../src/plugins/replication-supabase/types.ts"],"sourcesContent":["import type {\n    ReplicationOptions,\n    ReplicationPullOptions,\n    ReplicationPushOptions\n} from '../../types';\nimport type { SupabaseClient } from '@supabase/supabase-js';\n\nexport type SupabasePullQueryBuilderParams = {\n    query: ReturnType<SupabaseClient['from']>['select'] extends (\n        ...args: any[]\n    ) => infer R\n        ? R\n        : never;\n    lastPulledCheckpoint: SupabaseCheckpoint | undefined;\n    batchSize: number;\n};\n\nexport type SupabasePullQueryBuilder<RxDocType> = (\n    params: SupabasePullQueryBuilderParams\n) => SupabasePullQueryBuilderParams['query'] | void;\n\nexport type SyncOptionsSupabase<RxDocType> = Omit<\n    ReplicationOptions<RxDocType, SupabaseCheckpoint>,\n    'pull' | 'push'\n> & {\n    client: SupabaseClient;\n    tableName: string;\n\n    /**\n     * Modified field, default \"_modified\"\n     */\n    modifiedField?: '_modified' | string;\n\n    pull?: Omit<ReplicationPullOptions<RxDocType, SupabaseCheckpoint>, 'handler' | 'stream$'> & {\n        /**\n         * Allows modifying the PostgREST query before RxDB fetches remote changes.\n         * You can return a new builder instance or mutate the provided one.\n         */\n        queryBuilder?: SupabasePullQueryBuilder<RxDocType>;\n    };\n    push?: Omit<ReplicationPushOptions<RxDocType>, 'handler'>;\n};\n\nexport type SupabaseCheckpoint = {\n    id: string;\n    modified: string;\n}\n"],"mappings":"","ignoreList":[]}