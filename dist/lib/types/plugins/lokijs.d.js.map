{"version":3,"file":"lokijs.d.js","names":[],"sources":["../../../../src/types/plugins/lokijs.d.ts"],"sourcesContent":["import type { LeaderElector } from 'broadcast-channel';\nimport type {\n    Collection\n} from 'lokijs';\nimport { AddReturn } from 'unload';\nimport { LokiSaveQueue } from '../../plugins/storage-lokijs/loki-save-queue';\n\nexport type LokiDatabaseSettings = Partial<LokiConstructorOptions & LokiConfigOptions> & {};\n\nexport type LokiCollectionSettings = Partial<CollectionOptions<any>>;\n\nexport type LokiSettings = {\n    database?: LokiDatabaseSettings;\n    collection?: LokiCollectionSettings;\n};\n\nexport type LokiStorageInternals = {\n    leaderElector?: LeaderElector;\n    localState?: Promise<LokiLocalDatabaseState>;\n};\n\nexport type LokiRemoteRequestBroadcastMessage = {\n    response: false;\n    type: string;\n    databaseName: string;\n    collectionName: string;\n    operation: string;\n    params: any[];\n    requestId: string;\n};\n\nexport type LokiRemoteResponseBroadcastMessage = {\n    response: true;\n    type: string;\n    databaseName: string;\n    collectionName: string;\n    requestId: string;\n    result: any | any[];\n    // if true, the result property will contain an error state\n    isError: boolean;\n};\n\nexport type LokiDatabaseState = {\n    database: Loki;\n    databaseSettings: LokiDatabaseSettings;\n    saveQueue: LokiSaveQueue;\n\n    // all known collections of the database\n    collections: {\n        [collectionName: string]: Collection;\n    };\n\n    /**\n     * Registered unload handlers\n     * so we can remove them on close.\n     */\n    unloads: AddReturn[];\n};\n\nexport type LokiLocalDatabaseState = {\n    databaseState: LokiDatabaseState;\n    collection: Collection<any>;\n};\n"],"mappings":""}