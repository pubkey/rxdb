{"version":3,"file":"nats-helper.js","names":["NATS_REPLICATION_PLUGIN_IDENTITY_PREFIX","exports","getNatsServerDocumentState","natsStream","subjectPrefix","docId","remoteDocState","getMessage","last_by_subj"],"sources":["../../../../src/plugins/replication-nats/nats-helper.ts"],"sourcesContent":["import type {\n    StoredMsg,\n    Stream\n} from 'nats';\n\nexport const NATS_REPLICATION_PLUGIN_IDENTITY_PREFIX = 'nats';\n\nexport async function getNatsServerDocumentState(\n    natsStream: Stream,\n    subjectPrefix: string,\n    docId: string\n): Promise<StoredMsg | undefined> {\n    const remoteDocState = await natsStream.getMessage({\n        last_by_subj: subjectPrefix + '.' + docId\n    });\n    return remoteDocState;\n}\n"],"mappings":";;;;;;;AAKO,IAAMA,uCAAuC,GAAAC,OAAA,CAAAD,uCAAA,GAAG,MAAM;AAEtD,eAAeE,0BAA0BA,CAC5CC,UAAkB,EAClBC,aAAqB,EACrBC,KAAa,EACiB;EAC9B,IAAMC,cAAc,GAAG,MAAMH,UAAU,CAACI,UAAU,CAAC;IAC/CC,YAAY,EAAEJ,aAAa,GAAG,GAAG,GAAGC;EACxC,CAAC,CAAC;EACF,OAAOC,cAAc;AACzB"}