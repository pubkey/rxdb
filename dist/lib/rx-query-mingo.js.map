{"version":3,"file":"rx-query-mingo.js","names":["mingoInitDone","getMingoQuery","selector","useOperators","OperatorType","PIPELINE","$sort","$project","QUERY","$and","$eq","$elemMatch","$exists","$gt","$gte","$in","$lt","$lte","$ne","$nin","$mod","$nor","$not","$or","$regex","$size","$type","Query"],"sources":["../../src/rx-query-mingo.ts"],"sourcesContent":["import { useOperators, OperatorType } from 'mingo/core';\nimport { Query } from 'mingo/query';\nimport type { MangoQuerySelector } from './types';\nimport { $sort, $project } from 'mingo/operators/pipeline';\nimport {\n    $and,\n    $eq,\n    $elemMatch,\n    $exists,\n    $gt,\n    $gte,\n    $in,\n    $lt,\n    $lte,\n    $ne,\n    $nin,\n    $mod,\n    $nor,\n    $not,\n    $or,\n    $regex,\n    $size,\n    $type,\n} from 'mingo/operators/query';\n\nlet mingoInitDone = false;\n\n\n/**\n * The MongoDB query library is huge and we do not need all the operators.\n * If you add an operator here, make sure that you properly add a test in\n * the file /test/unit/rx-storage-query-correctness.test.ts\n *\n * @link https://github.com/kofrasa/mingo#es6\n */\nexport function getMingoQuery<RxDocType>(\n    selector?: MangoQuerySelector<RxDocType>\n) {\n    if (!mingoInitDone) {\n\n        useOperators(OperatorType.PIPELINE, {\n            $sort,\n            $project\n        } as any);\n        useOperators(OperatorType.QUERY, {\n            $and,\n            $eq,\n            $elemMatch,\n            $exists,\n            $gt,\n            $gte,\n            $in,\n            $lt,\n            $lte,\n            $ne,\n            $nin,\n            $mod,\n            $nor,\n            $not,\n            $or,\n            $regex,\n            $size,\n            $type,\n        } as any);\n        mingoInitDone = true;\n    }\n    return new Query(selector as any);\n}\n"],"mappings":";;;;;;AAAA;AACA;AAEA;AACA;AAqBA,IAAIA,aAAa,GAAG,KAAK;;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,aAAa,CACzBC,QAAwC,EAC1C;EACE,IAAI,CAACF,aAAa,EAAE;IAEhB,IAAAG,kBAAY,EAACC,kBAAY,CAACC,QAAQ,EAAE;MAChCC,KAAK,EAALA,eAAK;MACLC,QAAQ,EAARA;IACJ,CAAC,CAAQ;IACT,IAAAJ,kBAAY,EAACC,kBAAY,CAACI,KAAK,EAAE;MAC7BC,IAAI,EAAJA,YAAI;MACJC,GAAG,EAAHA,WAAG;MACHC,UAAU,EAAVA,kBAAU;MACVC,OAAO,EAAPA,eAAO;MACPC,GAAG,EAAHA,WAAG;MACHC,IAAI,EAAJA,YAAI;MACJC,GAAG,EAAHA,WAAG;MACHC,GAAG,EAAHA,WAAG;MACHC,IAAI,EAAJA,YAAI;MACJC,GAAG,EAAHA,WAAG;MACHC,IAAI,EAAJA,YAAI;MACJC,IAAI,EAAJA,YAAI;MACJC,IAAI,EAAJA,YAAI;MACJC,IAAI,EAAJA,YAAI;MACJC,GAAG,EAAHA,WAAG;MACHC,MAAM,EAANA,cAAM;MACNC,KAAK,EAALA,aAAK;MACLC,KAAK,EAALA;IACJ,CAAC,CAAQ;IACT1B,aAAa,GAAG,IAAI;EACxB;EACA,OAAO,IAAI2B,YAAK,CAACzB,QAAQ,CAAQ;AACrC"}