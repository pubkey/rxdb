"use strict";(self.webpackChunkrxdb=self.webpackChunkrxdb||[]).push([[8674],{7580:(e,n,i)=>{i.d(n,{g:()=>d});var t=i(4848);function d(e){const n=[];let i=null;return e.children.forEach(e=>{e.props.id?(i&&n.push(i),i={headline:e,paragraphs:[]}):i&&i.paragraphs.push(e)}),i&&n.push(i),(0,t.jsx)("div",{style:s.stepsContainer,children:n.map((e,n)=>(0,t.jsxs)("div",{style:s.stepWrapper,children:[(0,t.jsxs)("div",{style:s.stepIndicator,children:[(0,t.jsxs)("div",{style:s.stepNumber,children:[n+1,"."]}),(0,t.jsx)("div",{style:s.verticalLine})]}),(0,t.jsxs)("div",{style:s.stepContent,children:[(0,t.jsx)("div",{children:e.headline}),e.paragraphs.map((e,n)=>(0,t.jsx)("div",{style:s.item,children:e},n))]})]},n))})}const s={stepsContainer:{display:"flex",flexDirection:"column"},stepWrapper:{display:"flex",alignItems:"stretch",marginBottom:"1rem",position:"relative",minWidth:0},stepIndicator:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"32px",marginRight:"1rem",minWidth:0},stepNumber:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--color-middle)",border:"3px solid #391a3b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},verticalLine:{position:"absolute",top:"32px",bottom:"0",left:"50%",width:"1px",background:"linear-gradient(to bottom, var(--color-middle) 0%, var(--color-middle) 80%, rgba(0,0,0,0) 100%)",transform:"translateX(-50%)"},stepContent:{flex:1,minWidth:0,overflowWrap:"break-word"},item:{marginTop:"0.5rem"}}},8312:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"dev-mode","title":"Development Mode","description":"Enable checks & validations with RxDB Dev Mode. Ensure proper API use, readable errors, and schema validation during development. Avoid in production.","source":"@site/docs/dev-mode.md","sourceDirName":".","slug":"/dev-mode.html","permalink":"/dev-mode.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Development Mode","slug":"dev-mode.html","description":"Enable checks & validations with RxDB Dev Mode. Ensure proper API use, readable errors, and schema validation during development. Avoid in production."},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/install.html"},"next":{"title":"TypeScript Setup","permalink":"/tutorials/typescript.html"}}');var d=i(4848),s=i(8453),a=i(7580);const r={title:"Development Mode",slug:"dev-mode.html",description:"Enable checks & validations with RxDB Dev Mode. Ensure proper API use, readable errors, and schema validation during development. Avoid in production."},l="Dev Mode",o={},c=[{value:"Import the dev-mode Plugin",id:"import-the-dev-mode-plugin",level:3},{value:"Add the Plugin to RxDB",id:"add-the-plugin-to-rxdb",level:2},{value:"Usage with Node.js",id:"usage-with-nodejs",level:2},{value:"Usage with Angular",id:"usage-with-angular",level:2},{value:"Usage with webpack",id:"usage-with-webpack",level:2},{value:"Disable the dev-mode warning",id:"disable-the-dev-mode-warning",level:2},{value:"Disable the tracking iframe",id:"disable-the-tracking-iframe",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"dev-mode",children:"Dev Mode"})}),"\n",(0,d.jsx)(n.p,{children:"The dev-mode plugin adds many checks and validations to RxDB.\nThis ensures that you use the RxDB API properly and so the dev-mode plugin should always be used when\nusing RxDB in development mode."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Adds readable error messages."}),"\n",(0,d.jsxs)(n.li,{children:["Ensures that ",(0,d.jsx)(n.code,{children:"readonly"})," JavaScript objects are not accidentally mutated."]}),"\n",(0,d.jsxs)(n.li,{children:["Adds validation check for validity of schemas, queries, ",(0,d.jsx)(n.a,{href:"/orm.html",children:"ORM"})," methods and document fields.","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Notice that the ",(0,d.jsx)(n.code,{children:"dev-mode"})," plugin does not perform schema checks against the data see ",(0,d.jsx)(n.a,{href:"/schema-validation.html",children:"schema validation"})," for that."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsxs)(n.p,{children:["The dev-mode plugin will increase your build size and decrease the performance. It must ",(0,d.jsx)(n.strong,{children:"always"})," be used in development. You should ",(0,d.jsx)(n.strong,{children:"never"})," use it in production."]})}),"\n",(0,d.jsxs)(a.g,{children:[(0,d.jsx)(n.h3,{id:"import-the-dev-mode-plugin",children:"Import the dev-mode Plugin"}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:"import { RxDBDevModePlugin } from 'rxdb/plugins/dev-mode';\nimport { addRxPlugin } from 'rxdb/plugins/core';\n"})}),(0,d.jsx)(n.h2,{id:"add-the-plugin-to-rxdb",children:"Add the Plugin to RxDB"}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:"addRxPlugin(RxDBDevModePlugin);\n"})})]}),"\n",(0,d.jsx)(n.h2,{id:"usage-with-nodejs",children:"Usage with Node.js"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"async function createDb() {\n    if (process.env.NODE_ENV !== \"production\") {\n        await import('rxdb/plugins/dev-mode').then(\n            module => addRxPlugin(module.RxDBDevModePlugin)\n        );\n    }\n    const db = createRxDatabase( /* ... */ );\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"usage-with-angular",children:"Usage with Angular"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import { isDevMode } from '@angular/core';\n\nasync function createDb() {\n    if (isDevMode()){\n        await import('rxdb/plugins/dev-mode').then(\n            module => addRxPlugin(module.RxDBDevModePlugin)\n        );\n    }\n\n    const db = createRxDatabase( /* ... */ );\n    // ...\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"usage-with-webpack",children:"Usage with webpack"}),"\n",(0,d.jsxs)(n.p,{children:["In the ",(0,d.jsx)(n.code,{children:"webpack.config.js"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"module.exports = {\n    entry: './src/index.ts',\n    /* ... */\n    plugins: [\n        // set a global variable that can be accessed during runtime\n        new webpack.DefinePlugin({ MODE: JSON.stringify(\"production\") })\n    ]\n    /* ... */\n};\n"})}),"\n",(0,d.jsx)(n.p,{children:"In your source code:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"declare var MODE: 'production' | 'development';\n\nasync function createDb() {\n    if (MODE === 'development') {\n        await import('rxdb/plugins/dev-mode').then(\n            module => addRxPlugin(module.RxDBDevModePlugin)\n        );\n    }\n    const db = createRxDatabase( /* ... */ );\n    // ...\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"disable-the-dev-mode-warning",children:"Disable the dev-mode warning"}),"\n",(0,d.jsxs)(n.p,{children:["When the dev-mode is enabled, it will print a ",(0,d.jsx)(n.code,{children:"console.warn()"})," message to the console so that you do not accidentally use the dev-mode in production. To disable this warning you can call the ",(0,d.jsx)(n.code,{children:"disableWarnings()"})," function."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import { disableWarnings } from 'rxdb/plugins/dev-mode';\ndisableWarnings();\n"})}),"\n",(0,d.jsx)(n.h2,{id:"disable-the-tracking-iframe",children:"Disable the tracking iframe"}),"\n",(0,d.jsxs)(n.p,{children:["When used in localhost and in the browser, the dev-mode plugin can add a tracking iframe to the DOM. This is used to track the effectiveness of marketing efforts of RxDB.\nIf you have ",(0,d.jsx)(n.a,{href:"/premium/",children:"premium access"})," and want to disable this iframe, you can call ",(0,d.jsx)(n.code,{children:"setPremiumFlag()"})," before creating the database."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"import { setPremiumFlag } from 'rxdb-premium/plugins/shared';\nsetPremiumFlag();\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(6540);const d={},s=t.createContext(d);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);