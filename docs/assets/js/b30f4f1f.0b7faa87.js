"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[3779],{8305(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"rx-attachment","title":"Attachments","description":"Learn how to store and manage binary data like images or files in RxDB using attachments. Discover features, performance benefits, encryption, compression, and usage examples with code.","source":"@site/docs/rx-attachment.md","sourceDirName":".","slug":"/rx-attachment.html","permalink":"/rx-attachment.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Attachments","slug":"rx-attachment.html","description":"Learn how to store and manage binary data like images or files in RxDB using attachments. Discover features, performance benefits, encryption, compression, and usage examples with code."},"sidebar":"tutorialSidebar","previous":{"title":"Storage Migration","permalink":"/migration-storage.html"},"next":{"title":"RxPipelines","permalink":"/rx-pipeline.html"}}');var a=n(4848),t=n(8453);const i={title:"Attachments",slug:"rx-attachment.html",description:"Learn how to store and manage binary data like images or files in RxDB using attachments. Discover features, performance benefits, encryption, compression, and usage examples with code."},o="Attachments",l={},c=[{value:"Add the attachments plugin",id:"add-the-attachments-plugin",level:2},{value:"Enable attachments in the schema",id:"enable-attachments-in-the-schema",level:2},{value:"putAttachment()",id:"putattachment",level:2},{value:"putAttachmentBase64()",id:"putattachmentbase64",level:2},{value:"getAttachment()",id:"getattachment",level:2},{value:"allAttachments()",id:"allattachments",level:2},{value:"allAttachments$",id:"allattachments-1",level:2},{value:"RxAttachment",id:"rxattachment",level:2},{value:"doc",id:"doc",level:3},{value:"id",id:"id",level:3},{value:"type",id:"type",level:3},{value:"length",id:"length",level:3},{value:"digest",id:"digest",level:3},{value:"rev",id:"rev",level:3},{value:"remove()",id:"remove",level:3},{value:"getData()",id:"getdata",level:2},{value:"getDataBase64()",id:"getdatabase64",level:2},{value:"getStringData()",id:"getstringdata",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",figure:"figure",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"attachments",children:"Attachments"})}),"\n",(0,a.jsxs)(s.p,{children:["Attachments are binary data files that can be attachment to an ",(0,a.jsx)(s.code,{children:"RxDocument"}),", like a file that is attached to an email."]}),"\n",(0,a.jsxs)(s.p,{children:["Using attachments instead of adding the data to the normal document, ensures that you still have a good ",(0,a.jsx)(s.strong,{children:"performance"})," when querying and writing documents, even when a big amount of data, like an image file has to be stored."]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"You can store string, binary files, images and whatever you want side by side with your documents."}),"\n",(0,a.jsx)(s.li,{children:"Deleted documents automatically loose all their attachments data."}),"\n",(0,a.jsx)(s.li,{children:"Not all replication plugins support the replication of attachments."}),"\n",(0,a.jsxs)(s.li,{children:["Attachments can be stored ",(0,a.jsx)(s.a,{href:"/encryption.html",children:"encrypted"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["Internally, attachments in RxDB are stored and handled similar to how ",(0,a.jsx)(s.a,{href:"https://pouchdb.com/guides/attachments.html#how-attachments-are-stored",children:"CouchDB, PouchDB"})," does it."]}),"\n",(0,a.jsx)(s.h2,{id:"add-the-attachments-plugin",children:"Add the attachments plugin"}),"\n",(0,a.jsxs)(s.p,{children:["To enable the attachments, you have to add the ",(0,a.jsx)(s.code,{children:"attachments"})," plugin."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { addRxPlugin } "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { RxDBAttachmentsPlugin } "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/attachments'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"addRxPlugin"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(RxDBAttachmentsPlugin);"})]})]})})}),"\n",(0,a.jsx)(s.h2,{id:"enable-attachments-in-the-schema",children:"Enable attachments in the schema"}),"\n",(0,a.jsxs)(s.p,{children:["Before you can use attachments, you have to ensure that the attachments-object is set in the schema of your ",(0,a.jsx)(s.code,{children:"RxCollection"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" mySchema"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    version"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'object'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    properties"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    attachments"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        encrypted"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // if true, the attachment-data will be encrypted with the db-password"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDatabase"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addCollections"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    humans"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        schema"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" mySchema"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,a.jsx)(s.h2,{id:"putattachment",children:"putAttachment()"}),"\n",(0,a.jsxs)(s.p,{children:["Adds an attachment to a ",(0,a.jsx)(s.code,{children:"RxDocument"}),". Returns a Promise with the new attachment."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { createBlob } "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".putAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    {"})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        id"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'cat.txt'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     // (string) name of the attachment"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        data"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createBlob"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'meowmeow'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'text/plain'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"   // (string|Blob) data of the attachment"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        type"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'text/plain'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    // (string) type of the attachment-data like 'image/jpeg'"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})})]})})}),"\n",(0,a.jsx)(s.admonition,{type:"warning",children:(0,a.jsxs)(s.p,{children:["Expo/React-Native does not support the ",(0,a.jsx)(s.code,{children:"Blob"})," API natively. Make sure you use your own polyfill that properly supports ",(0,a.jsx)(s.code,{children:"blob.arrayBuffer()"})," when using RxAttachments or use the ",(0,a.jsx)(s.code,{children:"putAttachmentBase64()"})," and ",(0,a.jsx)(s.code,{children:"getDataBase64()"})," so that you do not have to create blobs."]})}),"\n",(0,a.jsx)(s.h2,{id:"putattachmentbase64",children:"putAttachmentBase64()"}),"\n",(0,a.jsxs)(s.p,{children:["Same as ",(0,a.jsx)(s.code,{children:"putAttachment()"})," but accepts a plain base64 string instead of a ",(0,a.jsx)(s.code,{children:"Blob"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".putAttachmentBase64"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    id"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'cat.txt'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    length"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 4"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    data"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bWVvdw=='"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'text/plain'"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,a.jsx)(s.h2,{id:"getattachment",children:"getAttachment()"}),"\n",(0,a.jsxs)(s.p,{children:["Returns an ",(0,a.jsx)(s.code,{children:"RxAttachment"})," by its id. Returns ",(0,a.jsx)(s.code,{children:"null"})," when the attachment does not exist."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsx)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cat.jpg'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]})})})}),"\n",(0,a.jsx)(s.h2,{id:"allattachments",children:"allAttachments()"}),"\n",(0,a.jsxs)(s.p,{children:["Returns an array of all attachments of the ",(0,a.jsx)(s.code,{children:"RxDocument"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsx)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachments"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".allAttachments"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})})})}),"\n",(0,a.jsx)(s.h2,{id:"allattachments-1",children:"allAttachments$"}),"\n",(0,a.jsx)(s.p,{children:"Gets an Observable which emits a stream of all attachments from the document. Re-emits each time an attachment gets added or removed from the RxDocument."}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" all"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" [];"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"allAttachments$"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    attachments "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" all "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" attachments"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})})]})})}),"\n",(0,a.jsx)(s.h2,{id:"rxattachment",children:"RxAttachment"}),"\n",(0,a.jsxs)(s.p,{children:["The attachments of RxDB are represented by the type ",(0,a.jsx)(s.code,{children:"RxAttachment"})," which has the following attributes/methods."]}),"\n",(0,a.jsx)(s.h3,{id:"doc",children:"doc"}),"\n",(0,a.jsxs)(s.p,{children:["The ",(0,a.jsx)(s.code,{children:"RxDocument"})," which the attachment is assigned to."]}),"\n",(0,a.jsx)(s.h3,{id:"id",children:"id"}),"\n",(0,a.jsxs)(s.p,{children:["The id as ",(0,a.jsx)(s.code,{children:"string"})," of the attachment."]}),"\n",(0,a.jsx)(s.h3,{id:"type",children:"type"}),"\n",(0,a.jsxs)(s.p,{children:["The type as ",(0,a.jsx)(s.code,{children:"string"})," of the attachment."]}),"\n",(0,a.jsx)(s.h3,{id:"length",children:"length"}),"\n",(0,a.jsxs)(s.p,{children:["The length of the data of the attachment as ",(0,a.jsx)(s.code,{children:"number"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"digest",children:"digest"}),"\n",(0,a.jsxs)(s.p,{children:["The hash of the attachments data as ",(0,a.jsx)(s.code,{children:"string"}),"."]}),"\n",(0,a.jsx)(s.admonition,{type:"note",children:(0,a.jsx)(s.p,{children:"The digest is NOT calculated by RxDB, instead it is calculated by the RxStorage. The only guarantee is that the digest will change when the attachments data changes."})}),"\n",(0,a.jsx)(s.h3,{id:"rev",children:"rev"}),"\n",(0,a.jsxs)(s.p,{children:["The revision-number of the attachment as ",(0,a.jsx)(s.code,{children:"number"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"remove",children:"remove()"}),"\n",(0,a.jsx)(s.p,{children:"Removes the attachment. Returns a Promise that resolves when done."}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cat.jpg'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".remove"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})]})})}),"\n",(0,a.jsx)(s.h2,{id:"getdata",children:"getData()"}),"\n",(0,a.jsxs)(s.p,{children:["Returns a Promise which resolves the attachment's data as ",(0,a.jsx)(s.code,{children:"Blob"}),". (async)"]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cat.jpg'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" blob"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getData"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(); "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Blob"})]})]})})}),"\n",(0,a.jsx)(s.h2,{id:"getdatabase64",children:"getDataBase64()"}),"\n",(0,a.jsxs)(s.p,{children:["Returns a Promise which resolves the attachment's data as ",(0,a.jsx)(s.strong,{children:"base64"})," ",(0,a.jsx)(s.code,{children:"string"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cat.jpg'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" base64Database"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getDataBase64"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(); "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 'bWVvdw=='"})]})]})})}),"\n",(0,a.jsx)(s.h2,{id:"getstringdata",children:"getStringData()"}),"\n",(0,a.jsxs)(s.p,{children:["Returns a Promise which resolves the attachment's data as ",(0,a.jsx)(s.code,{children:"string"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myDocument"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getAttachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'cat.jpg'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" data"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" attachment"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getStringData"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(); "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 'meow'"})]})]})})}),"\n",(0,a.jsx)(s.h1,{id:"attachment-compression",children:"Attachment compression"}),"\n",(0,a.jsxs)(s.p,{children:["Storing many attachments can be a problem when the disc space of the device is exceeded.\nTherefore it can make sense to compress the attachments before storing them in the ",(0,a.jsx)(s.a,{href:"/rx-storage.html",children:"RxStorage"}),".\nWith the ",(0,a.jsx)(s.code,{children:"attachments-compression"})," plugin you can compress the attachments data on write and decompress it on reads.\nThis happens internally and will now change on how you use the api. The compression is run with the ",(0,a.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Compression_Streams_API",children:"Compression Streams API"})," which is only supported on ",(0,a.jsx)(s.a,{href:"https://caniuse.com/?search=compressionstream",children:"newer browsers"}),"."]}),"\n",(0,a.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,a.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,a.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    wrappedAttachmentsCompressionStorage"})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/attachments-compression'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { getRxStorageIndexedDB } "}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb-premium/plugins/storage-indexeddb'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// create a wrapped storage with attachment-compression."})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" storageWithAttachmentsCompression"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" wrappedAttachmentsCompressionStorage"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" getRxStorageIndexedDB"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createRxDatabase"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'mydatabase'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" storageWithAttachmentsCompression"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// set the compression mode at the schema level"})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" mySchema"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    version"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'object'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    properties"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"        // ."})}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    attachments"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,a.jsxs)(s.span,{"data-line":"",children:[(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        compression"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'deflate'"}),(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"  // <- Specify the compression mode here. OneOf ['deflate', 'gzip']"})]}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:(0,a.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/* ... create your collections as usual and store attachments in them. */"})}),"\n",(0,a.jsx)(s.span,{"data-line":"",children:" "})]})})})]})}function d(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453(e,s,n){n.d(s,{R:()=>i,x:()=>o});var r=n(6540);const a={},t=r.createContext(a);function i(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);