"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[9594],{658:(e,n,i)=>{i.d(n,{a:()=>l});var t=i(6540),s=i(3028),a=i(46),r=i(4848);const l=(0,t.forwardRef)(function({centered:e=!0,maskClosable:n=!1,footer:i=null,styles:t,className:l,title:o="\u200e",children:d,...c},h){return(0,r.jsxs)(s.A,{ref:h,centered:e,maskClosable:n,footer:i,rootClassName:["my-modal",l].filter(Boolean).join(" "),styles:{content:{borderRadius:0,backgroundColor:"var(--bg-color)",color:"white",fontWeight:700,padding:16,paddingTop:12,width:"90vw",maxWidth:"100%"},header:{margin:0,padding:"16px 20px",borderBottom:"1px solid #f0f0f0"},body:{padding:0},footer:{padding:16},...t},closeIcon:(0,r.jsx)("span",{className:"my-modal__close",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:28,height:28,borderRadius:8},children:(0,r.jsx)(a.g,{clickable:!0})}),...c,children:[(0,r.jsx)("h3",{children:o}),d]})})},3319:(e,n,i)=>{i.d(n,{N:()=>d});var t=i(6540),s=i(106),a=i(4848);function r({size:e=50,onClick:n}){const i={container:{width:e,height:e,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",border:"2px solid var(--White, #FFF)",background:"linear-gradient(90deg, #ED168F 0%, #B2218B 100%)"},icon:{width:15,display:"block"}};return(0,a.jsx)("div",{style:i.container,onClick:n,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"25",viewBox:"0 0 15 25",fill:"none",style:{marginLeft:3,height:"100%"},children:(0,a.jsx)("path",{d:"M10 10V5H5V0H0V5V20V25H5V20H10V15H15V10H10Z",fill:"white"})})})}var l=i(658);const o={container:{display:"flex",flexDirection:"column",padding:"12px 12px 6px 12px",width:"275px",cursor:"pointer",boxSizing:"content-box"},thumbnailWrapper:{position:"relative",width:"100%",height:"155px",overflow:"hidden",backgroundColor:"#000"},thumbnail:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",display:"block",userDrag:"none",userSelect:"none",WebkitUserDrag:"none"},playButton:{position:"absolute",top:"50%",left:"50%",width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#ED168F",display:"flex",alignItems:"center",justifyContent:"center",transform:"translate(-50%, -50%)"},duration:{position:"absolute",bottom:"0px",right:0,fontSize:"0.875rem",fontWeight:"bold",paddingLeft:8,paddingRight:2},title:{marginTop:5,fontSize:16,fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};function d({videoId:e,title:n,duration:i,startAt:d,dark:c}){const[h,p]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1);return(0,a.jsxs)("div",{style:{...o.container,backgroundColor:c?"var(--bg-color)":"var(--bg-color-dark)"},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{m(!0),(0,s.c)("open_video",.1),(0,s.c)("open_video_"+e,.05,1)},children:[(0,a.jsxs)("div",{style:{textDecoration:"none",color:"inherit"},children:[(0,a.jsxs)("div",{style:{...o.thumbnailWrapper},children:[(0,a.jsx)("img",{src:`https://i3.ytimg.com/vi/${e}/mqdefault.jpg`,alt:n,style:o.thumbnail,loading:"lazy",decoding:"async",referrerPolicy:"no-referrer",crossOrigin:"anonymous",fetchpriority:"low"}),(0,a.jsx)("div",{style:{...o.playButton,transform:`translate(-50%, -50%) scale(${h?1.2:1})`,transition:"transform 0.1s ease-in-out"},children:(0,a.jsx)(r,{})}),(0,a.jsx)("div",{style:{...o.duration,backgroundColor:c?"var(--bg-color)":"var(--bg-color-dark)"},children:i})]}),(0,a.jsx)("div",{style:o.title,children:n})]}),u?(0,a.jsx)(l.a,{open:u,onCancel:e=>{e.stopPropagation(),m(!1)},onClose:e=>{e.stopPropagation(),m(!1)},onOk:e=>{e.stopPropagation(),m(!1)},footer:null,width:"auto",style:{maxWidth:800},title:n,children:(0,a.jsx)("center",{children:(0,a.jsx)("iframe",{style:{borderRadius:"0px",width:"90vw",maxWidth:"100%"},height:"515",src:"https://www.youtube.com/embed/"+e+"?autoplay=1&start="+(d||0),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})}):null]})}},3894:(e,n,i)=>{i.d(n,{t:()=>r});var t=i(6540),s=i(9293),a=i(4848);function r(e){const n=[];let i=null;t.Children.toArray(e.children).forEach(e=>{const t=e,s=t?.props?.id;s?(i&&n.push(i),i={label:t.props.children,key:t.props.id,content:[]}):i&&i.content.push(e)}),i&&n.push(i);const r=n.map(e=>({key:e.key,label:e.label,children:(0,a.jsx)("div",{style:{color:"white"},children:e.content})}));return(0,a.jsx)(s.A,{type:"line",items:r,color:"red"})}},5215:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>h,default:()=>g,frontMatter:()=>c,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"replication-supabase","title":"Supabase Replication Plugin for RxDB - Real-Time, Offline-First Sync","description":"Build real-time, offline-capable apps with RxDB + Supabase. Push/pull changes via PostgREST, stream updates with Realtime, and keep data in sync across devices.","source":"@site/docs/replication-supabase.md","sourceDirName":".","slug":"/replication-supabase.html","permalink":"/replication-supabase.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Supabase Replication Plugin for RxDB - Real-Time, Offline-First Sync","slug":"replication-supabase.html","description":"Build real-time, offline-capable apps with RxDB + Supabase. Push/pull changes via PostgREST, stream updates with Realtime, and keep data in sync across devices."},"sidebar":"tutorialSidebar","previous":{"title":"MongoDB Replication","permalink":"/replication-mongodb.html"}}');var s=i(4848),a=i(8453),r=i(3894),l=i(7580),o=i(3319),d=i(7891);const c={title:"Supabase Replication Plugin for RxDB - Real-Time, Offline-First Sync",slug:"replication-supabase.html",description:"Build real-time, offline-capable apps with RxDB + Supabase. Push/pull changes via PostgREST, stream updates with Realtime, and keep data in sync across devices."},h="Supabase Replication Plugin for RxDB - Real-Time, Offline-First Sync",p={},u=[{value:"Key Features of the RxDB-Supabase Plugin",id:"key-features-of-the-rxdb-supabase-plugin",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Setting up RxDB \u2194 Supabase Sync",id:"setting-up-rxdb--supabase-sync",level:2},{value:"Install Dependencies",id:"install-dependencies",level:3},{value:"Create a Supabase Project &amp; Table",id:"create-a-supabase-project--table",level:3},{value:"Create an RxDB Database &amp; Collection",id:"create-an-rxdb-database--collection",level:3},{value:"Create the Supabase Client",id:"create-the-supabase-client",level:3},{value:"Production",id:"production",level:4},{value:"Vite",id:"vite",level:4},{value:"Local Development",id:"local-development",level:4},{value:"Start Replication",id:"start-replication",level:3},{value:"Do other things with the replication state",id:"do-other-things-with-the-replication-state",level:3},{value:"Follow Up",id:"follow-up",level:2}];function m(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"supabase-replication-plugin-for-rxdb---real-time-offline-first-sync",children:"Supabase Replication Plugin for RxDB - Real-Time, Offline-First Sync"})}),"\n",(0,s.jsx)("p",{align:"center",children:(0,s.jsx)("img",{src:"./files/icons/supabase.svg",alt:"Supabase",height:"60",className:"img-padding img-in-text-right"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Supabase Replication Plugin"})," for RxDB delivers seamless, two-way synchronization between your RxDB collections and a Supabase (Postgres) table. It uses ",(0,s.jsx)(n.strong,{children:"PostgREST"})," for pull/push and ",(0,s.jsx)(n.strong,{children:"Supabase Realtime"})," (logical replication) to stream live updates, so your data stays consistent across devices with first-class ",(0,s.jsx)(n.a,{href:"/articles/local-first-future.html",children:"local-first"}),", offline-ready support."]}),"\n",(0,s.jsxs)(n.p,{children:["Under the hood, the plugin is powered by the RxDB ",(0,s.jsx)(n.a,{href:"/replication.html",children:"Sync Engine"}),". It handles checkpointed incremental pulls, robust retry logic, and ",(0,s.jsx)(n.a,{href:"/transactions-conflicts-revisions.html",children:"conflict detection/resolution"})," for you. You focus on features\u2014RxDB takes care of sync."]}),"\n",(0,s.jsx)("center",{children:(0,s.jsx)(o.N,{videoId:"zBZgdTb-dns",title:"Supabase in 100 Seconds",duration:"2:36"})}),"\n",(0,s.jsx)(n.h2,{id:"key-features-of-the-rxdb-supabase-plugin",children:"Key Features of the RxDB-Supabase Plugin"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cloud Only Backend"}),": No self-hosted server required. Client devices directly sync with the Supabase Servers."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Two-way replication"})," between Supabase tables and RxDB ",(0,s.jsx)(n.a,{href:"/rx-collection.html",children:"collections"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Offline-first"})," with resumable, incremental sync"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live updates"})," via Supabase Realtime channels"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Conflict resolution"})," handled by the ",(0,s.jsx)(n.a,{href:"/replication.html",children:"RxDB Sync Engine"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Works in browsers and Node.js"})," with ",(0,s.jsx)(n.code,{children:"@supabase/supabase-js"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,s.jsx)(d.u,{showServer:!1,dbIcon:"/files/icons/supabase.svg",dbLabel:"Supabase"}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.p,{children:["Clients connect ",(0,s.jsx)(n.strong,{children:"directly to Supabase"})," using the official JS client. The plugin:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pulls"})," documents over PostgREST using a checkpoint ",(0,s.jsx)(n.code,{children:"(modified, id)"})," and deterministic ordering."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pushes"})," inserts/updates using optimistic concurrency guards."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Streams"})," new changes using Supabase Realtime so live replication stays up to date."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Because Supabase exposes Postgres over ",(0,s.jsx)(n.strong,{children:"HTTP/WebSocket"}),", you can safely replicate from browsers and mobile apps. Protect your data with ",(0,s.jsx)(n.strong,{children:"Row Level Security (RLS)"})," policies; use the ",(0,s.jsx)(n.strong,{children:"anon"})," key on clients and the ",(0,s.jsx)(n.strong,{children:"service role"})," key only on trusted servers."]})}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-rxdb--supabase-sync",children:"Setting up RxDB \u2194 Supabase Sync"}),"\n",(0,s.jsxs)(l.g,{children:[(0,s.jsx)(n.h3,{id:"install-dependencies",children:"Install Dependencies"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install rxdb @supabase/supabase-js\n"})}),(0,s.jsx)(n.h3,{id:"create-a-supabase-project--table",children:"Create a Supabase Project & Table"}),(0,s.jsx)(n.p,{children:"In your supabase project, create a new table. Ensure that:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The primary key must have the type text (Primary keys must always be strings in RxDB)"}),"\n",(0,s.jsxs)(n.li,{children:["You have an modified field which stores the last modification timestamp of a row (default is ",(0,s.jsx)(n.code,{children:"_modified"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:['You have a boolean field which stores if a row should is "deleted". You should not hard-delete rows in Supabase, because clients would miss the deletion if they haven\'t been online at the deletion time. Instead, use a deleted ',(0,s.jsx)(n.code,{children:"boolean"})," to mark rows as deleted. This way all clients can still pull the deletion, and RxDB will hide the complexity on the client side."]}),"\n",(0,s.jsx)(n.li,{children:"Enable the realtime observation of writes to the table."}),"\n"]}),(0,s.jsx)(n.p,{children:'Here is an example for a "human" table:'}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'create extension if not exists moddatetime schema extensions;\n\ncreate table "public"."humans" (\n    "passportId" text primary key,\n    "firstName" text not null,\n    "lastName" text not null,\n    "age" integer,\n\n    "_deleted" boolean DEFAULT false NOT NULL,\n    "_modified" timestamp with time zone DEFAULT now() NOT NULL\n);\n\n-- auto-update the _modified timestamp\nCREATE TRIGGER update_modified_datetime BEFORE UPDATE ON public.humans FOR EACH ROW\nEXECUTE FUNCTION extensions.moddatetime(\'_modified\');\n\n-- add a table to the publication so we can subscribe to changes\nalter publication supabase_realtime add table "public"."humans";\n'})}),(0,s.jsx)(n.h3,{id:"create-an-rxdb-database--collection",children:"Create an RxDB Database & Collection"}),(0,s.jsxs)(n.p,{children:["Create a normal RxDB database, then add a collection whose ",(0,s.jsx)(n.strong,{children:"schema mirrors your Supabase table"}),". The ",(0,s.jsx)(n.strong,{children:"primary key must match"})," (same column name and type), and fields should be ",(0,s.jsx)(n.strong,{children:"top-level simple types"})," (string/number/boolean). You don\u2019t need to model server internals: the plugin maps the server\u2019s _deleted flag to doc._deleted automatically, and _modified is optional in your schema (the plugin strips it on push and will include it on pull only if you define it). For browsers use a persistent storage like Localstorage or IndexedDB. For tests you can use the ",(0,s.jsx)(n.a,{href:"/rx-storage-memory.html",children:"in-memory storage"}),"."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// client\nimport { createRxDatabase } from 'rxdb/plugins/core';\nimport { getRxStorageLocalstorage } from 'rxdb/plugins/storage-localstorage';\n\nexport const db = await createRxDatabase({\n  name: 'mydb',\n  storage: getRxStorageLocalstorage()\n});\n\nawait db.addCollections({\n  humans: {\n    schema: {\n      version: 0,\n      primaryKey: 'passportId',\n      type: 'object',\n      properties: {\n        passportId: { type: 'string', maxLength: 100 },\n        firstName:   { type: 'string' },\n        lastName:    { type: 'string' },\n        age: { type: 'number' }\n      },\n      required: ['passportId', 'firstName', 'lastName']\n    }\n  }\n});\n"})}),(0,s.jsx)(n.h3,{id:"create-the-supabase-client",children:"Create the Supabase Client"}),(0,s.jsx)(n.p,{children:"Make a single Supabase client and reuse it across your app. In the browser, use the anon key (RLS-protected). On trusted servers you may use the service role key\u2014but never ship that to clients."}),(0,s.jsxs)(r.t,{children:[(0,s.jsx)(n.h4,{id:"production",children:"Production"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"//> client\n\nimport { createClient } from '@supabase/supabase-js';\n\nexport const supabase = createClient(\n  'https://xyzcompany.supabase.co',\n  'eyJhbGciOi...'\n);\n"})}),(0,s.jsx)(n.h4,{id:"vite",children:"Vite"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"//> client\n\nimport { createClient } from '@supabase/supabase-js';\n\nexport const supabase = createClient(\n  import.meta.env.VITE_SUPABASE_URL!,       // e.g. https://xyzcompany.supabase.co\n  import.meta.env.VITE_SUPABASE_ANON_KEY!   // anon key for browsers\n  // optional options object here\n);\n"})}),(0,s.jsx)(n.h4,{id:"local-development",children:"Local Development"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"//> client\n\nimport { createClient } from '@supabase/supabase-js';\n\nexport const supabase = createClient(\n  'http://127.0.0.1:54321',\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0'\n);\n"})})]}),(0,s.jsx)(n.h3,{id:"start-replication",children:"Start Replication"}),(0,s.jsx)(n.p,{children:"Connect your RxDB collection to the Supabase table to start the replication."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"//> client\n\nimport { replicateSupabase } from 'rxdb/plugins/replication-supabase';\n\nconst replication = replicateSupabase({\n  tableName: 'humans',\n  client: supabase,\n  collection: db.humans,\n  replicationIdentifier: 'humans-supabase',\n  live: true,\n  pull: {\n    batchSize: 50,\n    // optional: shape incoming docs\n    modifier: (doc) => {\n      // map nullable age-field\n      if (!doc.age) delete doc.age;\n      return doc;\n    }\n  },\n  push: {\n    batchSize: 50\n  },\n  // optional overrides if your column names differ:\n  // modifiedField: '_modified',\n  // deletedField: '_deleted'\n});\n\n// (optional) observe errors and wait for the first sync barrier\nreplication.error$.subscribe(err => console.error('[replication]', err));\nawait replication.awaitInitialReplication();\n"})}),(0,s.jsx)(n.admonition,{title:"Nullable values must be mapped",type:"note",children:(0,s.jsxs)(n.p,{children:["Supabase returns ",(0,s.jsx)(n.code,{children:"null"})," for nullable columns, but in RxDB you often model those fields as optional (i.e., they can be undefined/missing). To avoid schema errors, map ",(0,s.jsx)(n.code,{children:"null"})," \u2192 ",(0,s.jsx)(n.code,{children:"undefined"})," in the ",(0,s.jsx)(n.code,{children:"pull.modifier"})," (usually by deleting the key)."]})}),(0,s.jsx)(n.h3,{id:"do-other-things-with-the-replication-state",children:"Do other things with the replication state"}),(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"RxSupabaseReplicationState"})," which is returned from ",(0,s.jsx)(n.code,{children:"replicateSupabase()"})," allows you to run all functionality of the normal ",(0,s.jsx)(n.a,{href:"/replication.html",children:"RxReplicationState"}),"."]})]}),"\n",(0,s.jsx)(n.admonition,{title:"Beta",type:"note",children:(0,s.jsxs)(n.p,{children:["The Supabase Replication Plugin for RxDB is currently in ",(0,s.jsx)(n.strong,{children:"beta"}),".",(0,s.jsx)(n.br,{}),"\n","While it is production-capable, the API and internal behavior may change before the stable release. We recommend thoroughly testing your integration and reviewing the changelog when upgrading to newer versions."]})}),"\n",(0,s.jsx)(n.h2,{id:"follow-up",children:"Follow Up"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Replication API Reference:"})," Learn the core concepts and lifecycle hooks \u2014 ",(0,s.jsx)(n.a,{href:"/replication.html",children:"Replication"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Offline-First Guide:"})," Caching, retries, and conflict strategies \u2014 ",(0,s.jsx)(n.a,{href:"/articles/local-first-future.html",children:"Local-First"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Supabase Essentials:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Row Level Security (RLS) \u2014 ",(0,s.jsx)(n.a,{href:"https://supabase.com/docs/guides/auth/row-level-security",children:"https://supabase.com/docs/guides/auth/row-level-security"})]}),"\n",(0,s.jsxs)(n.li,{children:["Realtime \u2014 ",(0,s.jsx)(n.a,{href:"https://supabase.com/docs/guides/realtime",children:"https://supabase.com/docs/guides/realtime"})]}),"\n",(0,s.jsxs)(n.li,{children:["Local dev with the Supabase CLI \u2014 ",(0,s.jsx)(n.a,{href:"https://supabase.com/docs/guides/cli",children:"https://supabase.com/docs/guides/cli"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Community:"})," Questions or feedback? Join our Discord \u2014 ",(0,s.jsx)(n.a,{href:"./chat",children:"Chat"})]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},7580:(e,n,i)=>{i.d(n,{g:()=>s});var t=i(4848);function s(e){const n=[];let i=null;return e.children.forEach(e=>{e.props.id?(i&&n.push(i),i={headline:e,paragraphs:[]}):i&&i.paragraphs.push(e)}),i&&n.push(i),(0,t.jsx)("div",{style:a.stepsContainer,children:n.map((e,n)=>(0,t.jsxs)("div",{style:a.stepWrapper,children:[(0,t.jsxs)("div",{style:a.stepIndicator,children:[(0,t.jsx)("div",{style:a.stepNumber,children:n+1}),(0,t.jsx)("div",{style:a.verticalLine})]}),(0,t.jsxs)("div",{style:a.stepContent,children:[(0,t.jsx)("div",{children:e.headline}),e.paragraphs.map((e,n)=>(0,t.jsx)("div",{style:a.item,children:e},n))]})]},n))})}const a={stepsContainer:{display:"flex",flexDirection:"column"},stepWrapper:{display:"flex",alignItems:"stretch",marginBottom:"1rem",position:"relative",minWidth:0},stepIndicator:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"33px",marginRight:"1rem",minWidth:0},stepNumber:{width:"33px",height:"33px",borderRadius:"50%",backgroundColor:"var(--color-middle)",border:"3px solid #391a3b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},verticalLine:{position:"absolute",top:"33px",bottom:"0",left:"50%",width:"1px",background:"linear-gradient(to bottom, var(--color-middle) 0%, var(--color-middle) 80%, rgba(0,0,0,0) 100%)",transform:"translateX(-50%)"},stepContent:{flex:1,minWidth:0,overflowWrap:"break-word"},item:{marginTop:"0.5rem"}}},7891:(e,n,i)=>{i.d(n,{u:()=>s});i(6540);var t=i(4848);function s({className:e="",style:n,clientLabels:i=["Client A","Client B","Client C"],serverLabel:s="RxServer",dbLabel:a="Backend",dbIcon:r="",showServer:l=!0}){const o="/files/logo/logo.svg",d=l?{}:{gridColumn:"2 / 5",width:"90%",marginLeft:"5%",marginRight:0};return(0,t.jsxs)("div",{className:`rxdb-diagram ${e}`,style:n,children:[(0,t.jsx)("style",{children:'\n    .rxdb-diagram {\n      color: inherit;\n      width: 100%;\n      max-width: 100%;\n      overflow: hidden;\n      margin: 0 auto;\n      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",\n                   Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";\n    }\n\n    /* Stage keeps fixed aspect ratio and scales */\n    .rxdb-diagram .stage {\n      width: 100%;\n      aspect-ratio: 816 / 336;\n      position: relative;\n    }\n\n    /* Grid fills the stage completely */\n    .rxdb-diagram .grid {\n      position: absolute;\n      inset: 0;\n      display: grid;\n      grid-template-columns:\n        26.960784% 5.882353% 31.862745% 5.882353% 29.411765%;\n      grid-template-rows:\n        23.809524% 14.285714% 23.809524% 14.285714% 23.809524%;\n      align-items: center;\n      justify-items: stretch;\n    }\n\n    .rxdb-diagram {\n      --stroke: clamp(1px, 0.35vmin, 2px);\n      --radius: clamp(8px, 1.2vmin, 14px);\n      --pad: clamp(8px, 1.2vmin, 18px);\n      --line: currentColor;\n    }\n\n    .rxdb-diagram .logo {\n      height: 1.2em;\n      width: auto;\n      display: inline-block;\n      object-fit: contain;\n      margin-right: 10px;\n    }\n\n    .rxdb-diagram .box {\n      border: var(--stroke) dashed var(--line);\n      border-radius: var(--radius);\n      background: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      font-weight: 600;\n      padding: var(--pad);\n      line-height: 1.2;\n      user-select: none;\n    }\n\n    /* Server and DB take full height of stage */\n    .rxdb-diagram .server,\n    .rxdb-diagram .db {\n      grid-row: 1 / -1;\n      height: 100%;\n    }\n\n    /* Horizontal arrows */\n    .rxdb-diagram .arrow {\n      position: relative;\n      height: 0;\n      border-top: var(--stroke) solid var(--line);\n      width: calc(100% - 20%);\n      margin-left: 10%;\n      margin-right: -1.5%;\n    }\n\n    .rxdb-diagram .arrow::before,\n    .rxdb-diagram .arrow::after {\n      content: "";\n      position: absolute;\n      top: 50%;\n      width: clamp(6px, 1.2vmin, 10px);\n      height: clamp(6px, 1.2vmin, 10px);\n      border-top: var(--stroke) solid var(--line);\n      border-right: var(--stroke) solid var(--line);\n      transform-origin: center;\n    }\n    .rxdb-diagram .arrow::before {\n      left: 0;\n      transform: translate(-0%, -60%) rotate(-135deg);\n    }\n    .rxdb-diagram .arrow::after {\n      right: 0;\n      transform: translate(0%, -60%) rotate(45deg);\n    }\n  '}),(0,t.jsx)("div",{className:"stage","aria-label":l?"Clients to RxServer to MongoDB diagram":"Clients to MongoDB diagram",children:(0,t.jsxs)("div",{className:"grid",children:[(0,t.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:1},children:[(0,t.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),i[0]||"Client A"]}),(0,t.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:1,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),l&&(0,t.jsxs)("div",{className:"box server",style:{gridColumn:3},children:[(0,t.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),s]}),l&&(0,t.jsx)("div",{className:"arrow",style:{gridColumn:4,gridRow:3},"aria-hidden":!0}),(0,t.jsxs)("div",{className:"box db",style:{gridColumn:5},children:[(0,t.jsx)("img",{src:r,alt:"",className:"logo","aria-hidden":!0}),a]}),(0,t.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:3},children:[(0,t.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),i[1]||"Client B"]}),(0,t.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:3,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),(0,t.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:5},children:[(0,t.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),i[2]||"Client C"]}),(0,t.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:5,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0})]})})]})}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const s={},a=t.createContext(s);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);