"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[2853],{3247:(e,s,n)=>{n.d(s,{g:()=>i});var r=n(4848);function i(e){const s=[];let n=null;return e.children.forEach(e=>{e.props.id?(n&&s.push(n),n={headline:e,paragraphs:[]}):n&&n.paragraphs.push(e)}),n&&s.push(n),(0,r.jsx)("div",{style:t.stepsContainer,children:s.map((e,s)=>(0,r.jsxs)("div",{style:t.stepWrapper,children:[(0,r.jsxs)("div",{style:t.stepIndicator,children:[(0,r.jsx)("div",{style:t.stepNumber,children:s+1}),(0,r.jsx)("div",{style:t.verticalLine})]}),(0,r.jsxs)("div",{style:t.stepContent,children:[(0,r.jsx)("div",{children:e.headline}),e.paragraphs.map((e,s)=>(0,r.jsx)("div",{style:t.item,children:e},s))]})]},s))})}const t={stepsContainer:{display:"flex",flexDirection:"column"},stepWrapper:{display:"flex",alignItems:"stretch",marginBottom:"1rem",position:"relative",minWidth:0},stepIndicator:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"33px",marginRight:"1rem",minWidth:0},stepNumber:{width:"33px",height:"33px",borderRadius:"50%",backgroundColor:"var(--color-middle)",border:"3px solid #391a3b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},verticalLine:{position:"absolute",top:"33px",bottom:"0",left:"50%",width:"1px",background:"linear-gradient(to bottom, var(--color-middle) 0%, var(--color-middle) 80%, rgba(0,0,0,0) 100%)",transform:"translateX(-50%)"},stepContent:{flex:1,minWidth:0,overflowWrap:"break-word"},item:{marginTop:"0.5rem"}}},4801:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>p,contentTitle:()=>h,default:()=>k,frontMatter:()=>c,metadata:()=>r,toc:()=>x});const r=JSON.parse('{"id":"replication-appwrite","title":"Appwrite Realtime Sync for Local-First Apps","description":"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication.","source":"@site/docs/replication-appwrite.md","sourceDirName":".","slug":"/replication-appwrite.html","permalink":"/replication-appwrite.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Appwrite Realtime Sync for Local-First Apps","slug":"replication-appwrite.html","description":"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication."},"sidebar":"tutorialSidebar","previous":{"title":"NATS Replication","permalink":"/replication-nats.html"},"next":{"title":"RxServer","permalink":"/rx-server.html"}}');var i=n(4848),t=n(8453),o=n(2636),a=n(3247),l=n(88),d=n(7482);const c={title:"Appwrite Realtime Sync for Local-First Apps",slug:"replication-appwrite.html",description:"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication."},h="RxDB Appwrite Replication",p={},x=[{value:"Why you should use RxDB with Appwrite?",id:"why-you-should-use-rxdb-with-appwrite",level:2},{value:"Preparing the Appwrite Server",id:"preparing-the-appwrite-server",level:2},{value:"Set up an Appwrite Endpoint and Project",id:"set-up-an-appwrite-endpoint-and-project",level:3},{value:"Self-Hosted",id:"self-hosted",level:4},{value:"Docker",id:"docker",level:5},{value:"Run the installation script",id:"run-the-installation-script",level:5},{value:"Start/Stop",id:"startstop",level:5},{value:"Appwrite Cloud",id:"appwrite-cloud",level:4},{value:"Create a Cloud Account",id:"create-a-cloud-account",level:5},{value:"Create a Project",id:"create-a-project",level:4},{value:"Create an Appwrite Database and Collection",id:"create-an-appwrite-database-and-collection",level:3},{value:"Add your documents attributes",id:"add-your-documents-attributes",level:3},{value:"Add a <code>deleted</code> attribute",id:"add-a-deleted-attribute",level:3},{value:"Set the Permission on the Appwrite Collection",id:"set-the-permission-on-the-appwrite-collection",level:3},{value:"Setting up the RxDB - Appwrite Replication",id:"setting-up-the-rxdb---appwrite-replication",level:2},{value:"Install the Appwrite SDK and RxDB:",id:"install-the-appwrite-sdk-and-rxdb",level:3},{value:"Import the Appwrite SDK and RxDB",id:"import-the-appwrite-sdk-and-rxdb",level:3},{value:"Create a Database with a Collection",id:"create-a-database-with-a-collection",level:3},{value:"Configure the Appwrite Client",id:"configure-the-appwrite-client",level:3},{value:"Appwrite Cloud",id:"appwrite-cloud-1",level:4},{value:"Self-Hosted",id:"self-hosted-1",level:4},{value:"Start the Replication",id:"start-the-replication",level:3},{value:"Do other things with the replication state",id:"do-other-things-with-the-replication-state",level:3},{value:"Limitations of the Appwrite Replication Plugin",id:"limitations-of-the-appwrite-replication-plugin",level:2}];function u(e){const s={a:"a",br:"br",code:"code",figure:"figure",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"rxdb-appwrite-replication",children:"RxDB Appwrite Replication"})}),"\n",(0,i.jsxs)(s.p,{children:["This replication plugin allows you to synchronize documents between RxDB and an ",(0,i.jsx)("a",{href:"https://appwrite.io/",rel:"noopener nofollow",children:"Appwrite"})," server. It supports both push and pull replication, live updates via Appwrite's real-time subscriptions, ",(0,i.jsx)(s.a,{href:"/offline-first.html",children:"offline-capability"})," and ",(0,i.jsx)(s.a,{href:"/transactions-conflicts-revisions.html",children:"conflict resolution"}),"."]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)(l.N,{videoId:"L07xPMyL8sY",title:"Appwrite in 100 Seconds",duration:"2:35"})}),"\n",(0,i.jsx)(s.h2,{id:"why-you-should-use-rxdb-with-appwrite",children:"Why you should use RxDB with Appwrite?"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Appwrite"})," is a secure, open-source backend server that simplifies backend tasks like user authentication, storage, database management, and real-time APIs.",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"RxDB"})," is a reactive database for the frontend that offers offline-first capabilities and rich client-side data handling."]}),"\n",(0,i.jsx)(s.p,{children:"Combining the two provides several benefits:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"/offline-first.html",children:"Offline-First"}),": RxDB keeps all data locally, so your application remains fully functional even when the network is unavailable. When connectivity returns, the RxDB \u2194 Appwrite replication automatically resolves and synchronizes changes."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Real-Time Sync"}),": With Appwrite\u2019s real-time subscriptions and RxDB\u2019s live replication, you can build collaborative features that update across all clients instantaneously."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"/transactions-conflicts-revisions.html",children:"Conflict Handling"}),": RxDB offers flexible conflict resolution strategies, making it simpler to handle concurrent edits across multiple users or devices."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Scalable & Secure"}),": Appwrite is built to handle production loads with granular access controls, while RxDB easily scales across various storage backends on the client side."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Simplicity & Modularity"}),": RxDB\u2019s plugin-based architecture, combined with Appwrite\u2019s Cloud offering makes it one of the easiest way to build local-first ",(0,i.jsx)(s.a,{href:"/articles/realtime-database.html",children:"realtime apps"})," that scale."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(d.u,{showServer:!1,dbIcon:"/files/icons/appwrite.svg",dbLabel:""}),"\n",(0,i.jsx)(s.h2,{id:"preparing-the-appwrite-server",children:"Preparing the Appwrite Server"}),"\n",(0,i.jsxs)(s.p,{children:["You can either use the appwrite cloud or ",(0,i.jsx)("a",{href:"https://appwrite.io/docs/advanced/self-hosting",rel:"noopener nofollow",children:"self-host the Appwrite server"}),". In this tutorial we use the Cloud which is recommended for beginners because it is way easier to set up. You can later decide to self-host if needed."]}),"\n",(0,i.jsxs)(a.g,{children:[(0,i.jsx)(s.h3,{id:"set-up-an-appwrite-endpoint-and-project",children:"Set up an Appwrite Endpoint and Project"}),(0,i.jsxs)(o.t,{children:[(0,i.jsx)(s.h4,{id:"self-hosted",children:"Self-Hosted"}),(0,i.jsxs)(a.g,{children:[(0,i.jsx)(s.h5,{id:"docker",children:"Docker"}),(0,i.jsx)(s.p,{children:"Ensure docker and docker-compose is installed and your version are up to date:"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"bash","data-theme":"css-variables",children:(0,i.jsx)(s.code,{"data-language":"bash","data-theme":"css-variables",style:{display:"grid"},children:(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"docker-compose"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -v"})]})})})}),(0,i.jsx)(s.h5,{id:"run-the-installation-script",children:"Run the installation script"}),(0,i.jsxs)(s.p,{children:["The installation script runs inside of a docker container. It will create a docker-compose file and an ",(0,i.jsx)(s.code,{children:".env"})," file."]}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"bash","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" run"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -it"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" --rm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"    --volume"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" /var/run/docker.sock:/var/run/docker.sock"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"    --volume"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "$('}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pwd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:')"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"/appwrite:/usr/src/code/appwrite:rw"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"    --entrypoint="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"install"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" \\"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"    appwrite/appwrite:1.6.1"})})]})})}),(0,i.jsx)(s.h5,{id:"startstop",children:"Start/Stop"}),(0,i.jsx)(s.p,{children:"After the installation is done, you can manually stop and start the appwrite instance with docker compose:"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"bash","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# stop"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"docker-compose"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" down"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# start"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"docker-compose"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" up"})]})]})})})]}),(0,i.jsx)(s.h4,{id:"appwrite-cloud",children:"Appwrite Cloud"}),(0,i.jsxs)(a.g,{children:[(0,i.jsx)(s.h5,{id:"create-a-cloud-account",children:"Create a Cloud Account"}),(0,i.jsxs)(s.p,{children:["Got to the ",(0,i.jsx)("a",{href:"ttps://cloud.appwrite.io/console/login",rel:"noopener nofollow",children:"Appwrite Console"}),", create an account and login."]}),(0,i.jsx)(s.h4,{id:"create-a-project",children:"Create a Project"}),(0,i.jsxs)(s.p,{children:["At the ",(0,i.jsx)("a",{href:"https://cloud.appwrite.io/console/",rel:"noopener nofollow",children:"console"})," click the ",(0,i.jsx)(s.code,{children:"+ Create Project"})," button to create a new project. Remember the ",(0,i.jsx)(s.code,{children:"project-id"})," which will be used later."]})]})]}),(0,i.jsx)(s.h3,{id:"create-an-appwrite-database-and-collection",children:"Create an Appwrite Database and Collection"}),(0,i.jsxs)(s.p,{children:["After creating an Appwrite project you have to create an Appwrite Database and a collection, you can either do this in code with the ",(0,i.jsx)("a",{href:"https://appwrite.io/docs/products/databases/databases",rel:"noopener nofollow",children:"node-appwrite SDK"})," or in the ",(0,i.jsx)("a",{href:"https://cloud.appwrite.io/console/",rel:"noopener nofollow",children:"Appwrite Console"})," as shown in this video:"]}),(0,i.jsx)("center",{children:(0,i.jsx)(l.N,{videoId:"HGlBpna17LQ",title:"Appwrite Database Tutorial",duration:"9:47",startAt:328})}),(0,i.jsx)("br",{}),(0,i.jsx)(s.h3,{id:"add-your-documents-attributes",children:"Add your documents attributes"}),(0,i.jsxs)(s.p,{children:["In the appwrite collection, create all ",(0,i.jsx)("a",{href:"https://appwrite.io/docs/products/databases/collections#attributes",rel:"noopener nofollow",children:"attributes"})," of your documents. You have to define all the fields that your document in your ",(0,i.jsx)(s.a,{href:"/rx-schema.html",children:"RxDB schema"})," knows about. Notice that Appwrite does not allow for nested attributes. So when you use RxDB with Appwrite, you should also not have nested attributes in your RxDB schema."]}),(0,i.jsxs)(s.h3,{id:"add-a-deleted-attribute",children:["Add a ",(0,i.jsx)(s.code,{children:"deleted"})," attribute"]}),(0,i.jsx)(s.p,{children:"Appwrite (natively) hard-deletes documents. But for offline-handling RxDB needs soft-deleted documents on the server so that the deletion state can be replicated with other clients."}),(0,i.jsxs)(s.p,{children:["In RxDB, ",(0,i.jsx)(s.code,{children:"_deleted"}),' indicates that a document is removed locally and you need a similar field in your Appwrite collection on the Server: You must define a deletedField with any name to mark documents as "deleted" in the remote collection. Mostly you would use a boolean field named ',(0,i.jsx)(s.code,{children:"deleted"})," (set it to ",(0,i.jsx)(s.code,{children:"required"}),"). The plugin will treat any document with ",(0,i.jsx)(s.code,{children:"{ [deletedField]: true }"})," as deleted and replicate that state to local RxDB."]}),(0,i.jsx)(s.h3,{id:"set-the-permission-on-the-appwrite-collection",children:"Set the Permission on the Appwrite Collection"}),(0,i.jsxs)(s.p,{children:["Appwrite uses permissions to control data access on the collection level. Make sure that in the Console at ",(0,i.jsx)(s.code,{children:"Collection -> Settings -> Permissions"})," you have set the permission according to what you want to allow your clients to do. For testing, just enable all of them (Create, Read, Update and Delete)."]})]}),"\n",(0,i.jsx)(s.h2,{id:"setting-up-the-rxdb---appwrite-replication",children:"Setting up the RxDB - Appwrite Replication"}),"\n",(0,i.jsx)(s.p,{children:"Now that we have set up the Appwrite server, we can go to the client side code and set up RxDB and the replication:"}),"\n",(0,i.jsxs)(a.g,{children:[(0,i.jsx)(s.h3,{id:"install-the-appwrite-sdk-and-rxdb",children:"Install the Appwrite SDK and RxDB:"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"bash","data-theme":"css-variables",children:(0,i.jsx)(s.code,{"data-language":"bash","data-theme":"css-variables",style:{display:"grid"},children:(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" install"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" appwrite"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" rxdb"})]})})})}),(0,i.jsx)(s.h3,{id:"import-the-appwrite-sdk-and-rxdb",children:"Import the Appwrite SDK and RxDB"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    replicateAppwrite"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/replication-appwrite'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    createRxDatabase"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    addRxPlugin"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    RxCollection"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    getRxStorageLocalstorage"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/storage-localstorage'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { Client } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'appwrite'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]})]})})}),(0,i.jsx)(s.h3,{id:"create-a-database-with-a-collection",children:"Create a Database with a Collection"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createRxDatabase"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'mydb'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" getRxStorageLocalstorage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" mySchema"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    title"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'my schema'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    version"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    primaryKey"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'id'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'object'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    properties"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'string'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            maxLength"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 100"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'string'"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        }"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    required"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'id'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'name'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"]"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addCollections"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    humans"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        schema"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" mySchema"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" collection"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".humans;"})]})]})})}),(0,i.jsx)(s.h3,{id:"configure-the-appwrite-client",children:"Configure the Appwrite Client"}),(0,i.jsxs)(o.t,{children:[(0,i.jsx)(s.h4,{id:"appwrite-cloud-1",children:"Appwrite Cloud"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" Client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setEndpoint"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://cloud.appwrite.io/v1'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setEndpointRealtime"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://cloud.appwrite.io/v1'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setProject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'YOUR_APPWRITE_PROJECT_ID'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]})]})})}),(0,i.jsx)(s.h4,{id:"self-hosted-1",children:"Self-Hosted"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" Client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setEndpoint"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'http://localhost/v1'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setEndpointRealtime"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'http://localhost/v1'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setProject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'YOUR_APPWRITE_PROJECT_ID'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:");"})]})]})})})]}),(0,i.jsx)(s.h3,{id:"start-the-replication",children:"Start the Replication"}),(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" replicationState"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" replicateAppwrite"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    replicationIdentifier"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'my-appwrite-replication'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    client"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    databaseId"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'YOUR_APPWRITE_DATABASE_ID'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    collectionId"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'YOUR_APPWRITE_COLLECTION_ID'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    deletedField"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'deleted'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" // Field that represents deletion in Appwrite"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    collection"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    pull"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        batchSize"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 10"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    push"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        batchSize"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 10"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    /*"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     * ..."})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     * You can set all other options for RxDB replication states"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     * like 'live' or 'retryTime'"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     * ..."})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"     */"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),(0,i.jsx)(s.h3,{id:"do-other-things-with-the-replication-state",children:"Do other things with the replication state"}),(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"RxAppwriteReplicationState"})," which is returned from ",(0,i.jsx)(s.code,{children:"replicateAppwrite()"})," allows you to run all functionality of the normal ",(0,i.jsx)(s.a,{href:"/replication.html",children:"RxReplicationState"}),"."]})]}),"\n",(0,i.jsx)("p",{align:"center",children:(0,i.jsx)("img",{src:"./files/icons/appwrite.svg",alt:"Appwrite Sync",height:"60"})}),"\n",(0,i.jsx)(s.h2,{id:"limitations-of-the-appwrite-replication-plugin",children:"Limitations of the Appwrite Replication Plugin"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Appwrite primary keys only allow for the characters ",(0,i.jsx)(s.code,{children:"a-z"}),", ",(0,i.jsx)(s.code,{children:"A-Z"}),", ",(0,i.jsx)(s.code,{children:"0-9"}),", and underscore ",(0,i.jsx)(s.code,{children:"_"})," (They cannot start with a leading underscore). Also the primary key has a max length of 36 characters."]}),"\n",(0,i.jsxs)(s.li,{children:["The Appwrite replication ",(0,i.jsx)(s.strong,{children:"only works on browsers"}),". This is because the Appwrite SDK does not support subscriptions in Node.js."]}),"\n",(0,i.jsx)(s.li,{children:"Appwrite does not allow for bulk write operations so on push one HTTP request will be made per document. Reads run in bulk so this is mostly not a problem."}),"\n",(0,i.jsxs)(s.li,{children:['Appwrite does not allow for transactions or "update-if" calls which can lead to overwriting documents instead of properly handling ',(0,i.jsx)(s.a,{href:"/transactions-conflicts-revisions.html#conflicts",children:"conflicts"}),' when multiple clients edit the same document in parallel. This is not a problem for inserts because "insert-if-not" calls are made.']}),"\n",(0,i.jsxs)(s.li,{children:["Nested attributes in Appwrite collections are only possible via experimental ",(0,i.jsx)("a",{href:"https://appwrite.io/docs/products/databases/relationships",rel:"noopener nofollow",children:"relationship attributes"}),", and compatibility with RxDB is not tested. Users opting to use these experimental relationship attributes with RxDB do so at their own risk."]}),"\n"]})]})}function k(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},7482:(e,s,n)=>{n.d(s,{u:()=>i});n(6540);var r=n(4848);function i({className:e="",style:s,clientLabels:n=["Client A","Client B","Client C"],serverLabel:i="RxServer",dbLabel:t="Backend",dbIcon:o="",showServer:a=!0}){const l="/files/logo/logo.svg",d=a?{}:{gridColumn:"2 / 5",width:"90%",marginLeft:"5%",marginRight:0};return(0,r.jsxs)("div",{className:`rxdb-diagram ${e}`,style:s,children:[(0,r.jsx)("style",{children:'\n    .rxdb-diagram {\n      padding-top: 20px;\n      padding-bottom: 20px;\n      box-sizing: border-box;\n      color: inherit;\n      width: 100%;\n      max-width: 100%;\n      overflow: hidden;\n      margin: 0 auto;\n      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",\n                   Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";\n    }\n\n    /* Stage keeps fixed aspect ratio and scales */\n    .rxdb-diagram .stage {\n      width: 100%;\n      aspect-ratio: 816 / 336;\n      position: relative;\n    }\n\n    /* Grid fills the stage completely */\n    .rxdb-diagram .grid {\n      position: absolute;\n      inset: 0;\n      display: grid;\n      grid-template-columns:\n        26.960784% 5.882353% 31.862745% 5.882353% 29.411765%;\n      grid-template-rows:\n        23.809524% 14.285714% 23.809524% 14.285714% 23.809524%;\n      align-items: center;\n      justify-items: stretch;\n    }\n\n    .rxdb-diagram {\n      --stroke: clamp(1px, 0.35vmin, 2px);\n      --radius: clamp(8px, 1.2vmin, 14px);\n      --pad: clamp(8px, 1.2vmin, 18px);\n      --line: currentColor;\n    }\n\n    .rxdb-diagram .logo {\n      height: 1.2em;\n      width: auto;\n      display: inline-block;\n      object-fit: contain;\n      margin-right: 10px;\n    }\n\n    .rxdb-diagram .box {\n      border: var(--stroke) dashed var(--line);\n      border-radius: var(--radius);\n      background: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      font-weight: 600;\n      padding: var(--pad);\n      line-height: 1.2;\n      user-select: none;\n    }\n\n    /* Server and DB take full height of stage */\n    .rxdb-diagram .server,\n    .rxdb-diagram .db {\n      grid-row: 1 / -1;\n      height: 100%;\n    }\n\n    /* Horizontal arrows */\n    .rxdb-diagram .arrow {\n      position: relative;\n      height: 0;\n      border-top: var(--stroke) solid var(--line);\n      width: calc(100% - 20%);\n      margin-left: 10%;\n      margin-right: -1.5%;\n    }\n\n    .rxdb-diagram .arrow::before,\n    .rxdb-diagram .arrow::after {\n      content: "";\n      position: absolute;\n      top: 50%;\n      width: clamp(6px, 1.2vmin, 10px);\n      height: clamp(6px, 1.2vmin, 10px);\n      border-top: var(--stroke) solid var(--line);\n      border-right: var(--stroke) solid var(--line);\n      transform-origin: center;\n    }\n    .rxdb-diagram .arrow::before {\n      left: 0;\n      transform: translate(-0%, -60%) rotate(-135deg);\n    }\n    .rxdb-diagram .arrow::after {\n      right: 0;\n      transform: translate(0%, -60%) rotate(45deg);\n    }\n  '}),(0,r.jsx)("div",{className:"stage","aria-label":a?"Clients to RxServer to MongoDB diagram":"Clients to MongoDB diagram",children:(0,r.jsxs)("div",{className:"grid",children:[(0,r.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:1},children:[(0,r.jsx)("img",{src:l,alt:"",className:"logo","aria-hidden":!0}),n[0]||"Client A"]}),(0,r.jsx)("div",{className:"arrow",style:{gridColumn:a?2:d.gridColumn,gridRow:1,...a?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),a&&(0,r.jsxs)("div",{className:"box server",style:{gridColumn:3},children:[(0,r.jsx)("img",{src:l,alt:"",className:"logo","aria-hidden":!0}),i]}),a&&(0,r.jsx)("div",{className:"arrow",style:{gridColumn:4,gridRow:3},"aria-hidden":!0}),(0,r.jsxs)("div",{className:"box db",style:{gridColumn:5},children:[(0,r.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),t]}),(0,r.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:3},children:[(0,r.jsx)("img",{src:l,alt:"",className:"logo","aria-hidden":!0}),n[1]||"Client B"]}),(0,r.jsx)("div",{className:"arrow",style:{gridColumn:a?2:d.gridColumn,gridRow:3,...a?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),(0,r.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:5},children:[(0,r.jsx)("img",{src:l,alt:"",className:"logo","aria-hidden":!0}),n[2]||"Client C"]}),(0,r.jsx)("div",{className:"arrow",style:{gridColumn:a?2:d.gridColumn,gridRow:5,...a?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0})]})})]})}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);