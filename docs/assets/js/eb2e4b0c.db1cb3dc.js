"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[3988],{7580:(e,t,s)=>{s.d(t,{g:()=>o});var a=s(4848);function o(e){const t=[];let s=null;return e.children.forEach(e=>{e.props.id?(s&&t.push(s),s={headline:e,paragraphs:[]}):s&&s.paragraphs.push(e)}),s&&t.push(s),(0,a.jsx)("div",{style:r.stepsContainer,children:t.map((e,t)=>(0,a.jsxs)("div",{style:r.stepWrapper,children:[(0,a.jsxs)("div",{style:r.stepIndicator,children:[(0,a.jsx)("div",{style:r.stepNumber,children:t+1}),(0,a.jsx)("div",{style:r.verticalLine})]}),(0,a.jsxs)("div",{style:r.stepContent,children:[(0,a.jsx)("div",{children:e.headline}),e.paragraphs.map((e,t)=>(0,a.jsx)("div",{style:r.item,children:e},t))]})]},t))})}const r={stepsContainer:{display:"flex",flexDirection:"column"},stepWrapper:{display:"flex",alignItems:"stretch",marginBottom:"1rem",position:"relative",minWidth:0},stepIndicator:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"33px",marginRight:"1rem",minWidth:0},stepNumber:{width:"33px",height:"33px",borderRadius:"50%",backgroundColor:"var(--color-middle)",border:"3px solid #391a3b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},verticalLine:{position:"absolute",top:"33px",bottom:"0",left:"50%",width:"1px",background:"linear-gradient(to bottom, var(--color-middle) 0%, var(--color-middle) 80%, rgba(0,0,0,0) 100%)",transform:"translateX(-50%)"},stepContent:{flex:1,minWidth:0,overflowWrap:"break-word"},item:{marginTop:"0.5rem"}}},8453:(e,t,s)=>{s.d(t,{R:()=>n,x:()=>i});var a=s(6540);const o={},r=a.createContext(o);function n(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),a.createElement(r.Provider,{value:t},e.children)}},9019:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"rx-storage-localstorage","title":"RxDB LocalStorage - The Easiest Way to Persist Data in Your Web App","description":"Discover how to quickly set up RxDB\'s LocalStorage-based storage as the recommended default. Learn its benefits, limitations, and why it\u2019s perfect for demos, prototypes, and lightweight applications.","source":"@site/docs/rx-storage-localstorage.md","sourceDirName":".","slug":"/rx-storage-localstorage.html","permalink":"/rx-storage-localstorage.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"RxDB LocalStorage - The Easiest Way to Persist Data in Your Web App","slug":"rx-storage-localstorage.html","description":"Discover how to quickly set up RxDB\'s LocalStorage-based storage as the recommended default. Learn its benefits, limitations, and why it\u2019s perfect for demos, prototypes, and lightweight applications."},"sidebar":"tutorialSidebar","previous":{"title":"RxStorage Overview","permalink":"/rx-storage.html"},"next":{"title":"IndexedDB \ud83d\udc51 (Browser, Capacitor)","permalink":"/rx-storage-indexeddb.html"}}');var o=s(4848),r=s(8453),n=s(7580);const i={title:"RxDB LocalStorage - The Easiest Way to Persist Data in Your Web App",slug:"rx-storage-localstorage.html",description:"Discover how to quickly set up RxDB's LocalStorage-based storage as the recommended default. Learn its benefits, limitations, and why it\u2019s perfect for demos, prototypes, and lightweight applications."},l="RxStorage LocalStorage",c={},d=[{value:"Key Benefits",id:"key-benefits",level:2},{value:"Limitations",id:"limitations",level:2},{value:"How to use the LocalStorage RxStorage with RxDB",id:"how-to-use-the-localstorage-rxstorage-with-rxdb",level:2},{value:"Import the Storage",id:"import-the-storage",level:3},{value:"Create a Database",id:"create-a-database",level:3},{value:"Add a Collection",id:"add-a-collection",level:3},{value:"Insert a document",id:"insert-a-document",level:3},{value:"Query documents",id:"query-documents",level:3},{value:"Mocking the LocalStorage API for testing in Node.js",id:"mocking-the-localstorage-api-for-testing-in-nodejs",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"rxstorage-localstorage",children:"RxStorage LocalStorage"})}),"\n",(0,o.jsxs)(t.p,{children:["RxDB can persist data in various ways. One of the simplest methods is using the browser\u2019s built-in ",(0,o.jsx)(t.a,{href:"/articles/localstorage.html",children:"LocalStorage"}),". This storage engine allows you to store and retrieve RxDB documents directly from the browser without needing additional plugins or libraries."]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Recommended Default for using RxDB in the Browser"})}),"\n",(0,o.jsxs)(t.p,{children:["We highly recommend using LocalStorage for a quick and easy RxDB setup, especially when you want a minimal project configuration. For professional projects, the ",(0,o.jsx)(t.a,{href:"/rx-storage-indexeddb.html",children:"IndexedDB RxStorage"})," is recommended in most cases."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Simplicity"}),": No complicated configurations or external dependencies - LocalStorage is already built into the browser."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Fast for small Datasets"}),": Writing and Reading small sets of data from localStorage is really fast as shown in ",(0,o.jsx)(t.a,{href:"/articles/localstorage-indexeddb-cookies-opfs-sqlite-wasm.html#performance-comparison",children:"these benchmarks"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Ease of Setup"}),": Just import the plugin, import it, and pass ",(0,o.jsx)(t.code,{children:"getRxStorageLocalstorage()"})," into ",(0,o.jsx)(t.code,{children:"createRxDatabase()"}),". That\u2019s it!"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"limitations",children:"Limitations"}),"\n",(0,o.jsx)(t.p,{children:"While LocalStorage is the easiest way to get started, it does come with some constraints:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Limited Storage Capacity"}),": Browsers often limit LocalStorage to around ",(0,o.jsx)(t.a,{href:"/articles/localstorage.html#understanding-the-limitations-of-local-storage",children:"5 MB per domain"}),", though exact limits vary."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Synchronous Access"}),": LocalStorage operations block the main thread. This is usually fine for small amounts of data but can cause performance bottlenecks with heavier use."]}),"\n",(0,o.jsxs)(t.li,{children:["The LocalStorage RxStorage does not support ",(0,o.jsx)(t.a,{href:"/rx-attachment.html",children:"attachments"})," because storing big binary values in the browsers localstorage is not a good solution. Use the ",(0,o.jsx)(t.a,{href:"/rx-storage-indexeddb.html",children:"IndexdDB"}),", ",(0,o.jsx)(t.a,{href:"/rx-storage-opfs.html",children:"OPFS"})," or ",(0,o.jsx)(t.a,{href:"/rx-storage-dexie.html",children:"dexie.js"})," storage instead to use attachments."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Despite these limitations, LocalStorage remains a great default option for smaller projects, prototypes, or cases where you need the absolute simplest way to persist data in the browser."}),"\n",(0,o.jsx)(t.h2,{id:"how-to-use-the-localstorage-rxstorage-with-rxdb",children:"How to use the LocalStorage RxStorage with RxDB"}),"\n",(0,o.jsxs)(n.g,{children:[(0,o.jsx)(t.h3,{id:"import-the-storage",children:"Import the Storage"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"import { createRxDatabase } from 'rxdb/plugins/core';\nimport { getRxStorageLocalstorage } from 'rxdb/plugins/storage-localstorage';\n"})}),(0,o.jsx)(t.h3,{id:"create-a-database",children:"Create a Database"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"const db = await createRxDatabase({\n    name: 'exampledb',\n    storage: getRxStorageLocalstorage()\n});\n"})}),(0,o.jsx)(t.h3,{id:"add-a-collection",children:"Add a Collection"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"await db.addCollections({\n  tasks: {\n    schema: {\n      title: 'tasks schema',\n      version: 0,\n      primaryKey: 'id',\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        title: { type: 'string' },\n        done: { type: 'boolean' }\n      },\n      required: ['id', 'title', 'done']\n    }\n  }\n});\n"})}),(0,o.jsx)(t.h3,{id:"insert-a-document",children:"Insert a document"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"await db.tasks.insert({ id: 'task-01', title: 'Get started with RxDB' });\n"})}),(0,o.jsx)(t.h3,{id:"query-documents",children:"Query documents"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"const nonDoneTasks = await db.tasks.find({\n    selector: {\n        done: {\n            $eq: false\n        }\n    }\n}).exec();\n"})})]}),"\n",(0,o.jsx)(t.h2,{id:"mocking-the-localstorage-api-for-testing-in-nodejs",children:"Mocking the LocalStorage API for testing in Node.js"}),"\n",(0,o.jsxs)(t.p,{children:["While the ",(0,o.jsx)(t.code,{children:"localStorage"})," API only exists in browsers, your can the LocalStorage based storage in Node.js by using the mock that comes with RxDB.\nThis is intended to be used in unit tests or other test suites:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"import { createRxDatabase } from 'rxdb/plugins/core';\nimport {\n    getRxStorageLocalstorage,\n    getLocalStorageMock\n} from 'rxdb/plugins/storage-localstorage';\n\nconst db = await createRxDatabase({\n    name: 'exampledb',\n    storage: getRxStorageLocalstorage({\n        localStorage: getLocalStorageMock()\n    })\n});\n\n"})})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);