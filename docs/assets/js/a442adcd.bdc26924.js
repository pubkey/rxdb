"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[8760],{5551(e,s,r){r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"reactivity","title":"Signals & Custom Reactivity with RxDB","description":"Level up reactivity with Angular signals, Vue refs, or Preact signals in RxDB. Learn how to integrate custom reactivity to power your dynamic UI.","source":"@site/docs/reactivity.md","sourceDirName":".","slug":"/reactivity.html","permalink":"/reactivity.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Signals & Custom Reactivity with RxDB","slug":"reactivity.html","description":"Level up reactivity with Angular signals, Vue refs, or Preact signals in RxDB. Learn how to integrate custom reactivity to power your dynamic UI."},"sidebar":"tutorialSidebar","previous":{"title":"RxPipelines","permalink":"/rx-pipeline.html"},"next":{"title":"RxState","permalink":"/rx-state.html"}}');var i=r(4848),o=r(8453);const a={title:"Signals & Custom Reactivity with RxDB",slug:"reactivity.html",description:"Level up reactivity with Angular signals, Vue refs, or Preact signals in RxDB. Learn how to integrate custom reactivity to power your dynamic UI."},t="Signals & Co. - Custom reactivity adapters instead of RxJS Observables",l={},c=[{value:"Adding a custom reactivity factory (in angular projects)",id:"adding-a-custom-reactivity-factory-in-angular-projects",level:2},{value:"Adding reactivity for other Frameworks",id:"adding-reactivity-for-other-frameworks",level:2},{value:"Vue Shallow Refs",id:"vue-shallow-refs",level:3},{value:"Preact Signals",id:"preact-signals",level:3},{value:"Accessing custom reactivity objects",id:"accessing-custom-reactivity-objects",level:2},{value:"Limitations",id:"limitations",level:2}];function d(e){const s={a:"a",code:"code",figure:"figure",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"signals--co---custom-reactivity-adapters-instead-of-rxjs-observables",children:"Signals & Co. - Custom reactivity adapters instead of RxJS Observables"})}),"\n",(0,i.jsxs)(s.p,{children:["RxDB internally uses the ",(0,i.jsx)(s.a,{href:"https://rxjs.dev/",children:"rxjs library"})," for observables and streams. All functionalities of RxDB like ",(0,i.jsx)(s.a,{href:"/rx-query.html#observe",children:"query"})," results or ",(0,i.jsx)(s.a,{href:"/rx-document.html#observe",children:"document fields"})," that expose values that change over time return a rxjs ",(0,i.jsx)(s.code,{children:"Observable"})," that allows you to observe the values and update your UI accordingly depending on the changes to the database state."]}),"\n",(0,i.jsxs)(s.p,{children:["However there are many reasons to use other reactivity libraries that use a different datatype to represent changing values. For example when you use ",(0,i.jsx)(s.strong,{children:"signals"})," in angular or react, the ",(0,i.jsx)(s.strong,{children:"template refs"})," of vue or state libraries like MobX and redux."]}),"\n",(0,i.jsxs)(s.p,{children:["RxDB allows you to pass a custom reactivity factory on ",(0,i.jsx)(s.a,{href:"/rx-database.html",children:"RxDatabase"})," creation so that you can easily access values wrapped with your custom datatype in a convenient way."]}),"\n",(0,i.jsx)(s.h2,{id:"adding-a-custom-reactivity-factory-in-angular-projects",children:"Adding a custom reactivity factory (in angular projects)"}),"\n",(0,i.jsxs)(s.p,{children:["If you have an angular project, to get custom reactivity objects out of RxDB, you have to pass a ",(0,i.jsx)(s.code,{children:"RxReactivityFactory"})," during database creation. The ",(0,i.jsx)(s.code,{children:"RxReactivityFactory"})," has the ",(0,i.jsx)(s.code,{children:"fromObservable()"})," method that creates your custom reactivity object based on an observable and an initial value."]}),"\n",(0,i.jsxs)(s.p,{children:["For example to use signals in angular, you can use the angular ",(0,i.jsx)(s.a,{href:"https://angular.io/api/core/rxjs-interop/toSignal",children:"toSignal"})," function:"]}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { RxReactivityFactory } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { Signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" untracked } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@angular/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { toSignal } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" '@angular/core/rxjs-interop'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:" "}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createReactivityFactory"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(injector"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" Injector"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" RxReactivityFactory"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">> {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"    fromObservable"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(observable$"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" initialValue"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" any"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"      return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" untracked"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"        toSignal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(observable$"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          initialValue"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          injector"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          rejectErrors"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" true"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        })"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      );"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  };"})}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsxs)(s.p,{children:["Then you can pass this factory when you create the ",(0,i.jsx)(s.a,{href:"/rx-database.html",children:"RxDatabase"}),":"]}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { createRxDatabase } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { getRxStorageLocalstorage } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/storage-localstorage'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" database"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createRxDatabase"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'mydb'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" getRxStorageLocalstorage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    reactivity"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createReactivityFactory"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"inject"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(Injector))"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,i.jsxs)(s.p,{children:["An example of how signals are used in angular with RxDB, can be found at the ",(0,i.jsx)(s.a,{href:"https://github.com/pubkey/rxdb/tree/master/examples/angular/src/app/components/heroes-list",children:"RxDB Angular Example"})]}),"\n",(0,i.jsx)(s.h2,{id:"adding-reactivity-for-other-frameworks",children:"Adding reactivity for other Frameworks"}),"\n",(0,i.jsxs)(s.p,{children:["When adding custom reactivity for other JavaScript frameworks or libraries, make sure to correctly unsubscribe whenever you call ",(0,i.jsx)(s.code,{children:"observable.subscribe()"})," in the ",(0,i.jsx)(s.code,{children:"fromObservable()"})," method."]}),"\n",(0,i.jsxs)(s.p,{children:["There are also some ",(0,i.jsx)(s.a,{href:"/premium/",children:"\ud83d\udc51 Premium Plugins"})," that can be used with other (non-angular frameworks):"]}),"\n",(0,i.jsx)(s.h3,{id:"vue-shallow-refs",children:"Vue Shallow Refs"}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// npm install vue --save"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { VueRxReactivityFactory } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb-premium/plugins/reactivity-vue'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { createRxDatabase } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { getRxStorageLocalstorage } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/storage-localstorage'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" database"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createRxDatabase"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'mydb'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" getRxStorageLocalstorage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    reactivity"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" VueRxReactivityFactory"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,i.jsx)(s.h3,{id:"preact-signals",children:"Preact Signals"}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// npm install @preact/signals-core --save"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { PreactSignalsRxReactivityFactory } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb-premium/plugins/reactivity-preact-signals'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { createRxDatabase } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/core'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" database"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" createRxDatabase"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'mydb'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    storage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" getRxStorageLocalstorage"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    reactivity"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" PreactSignalsRxReactivityFactory"})]}),"\n",(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,i.jsx)(s.h2,{id:"accessing-custom-reactivity-objects",children:"Accessing custom reactivity objects"}),"\n",(0,i.jsxs)(s.p,{children:["All observable data in RxDB is marked by the single dollar sign ",(0,i.jsx)(s.code,{children:"$"})," like ",(0,i.jsx)(s.code,{children:"RxCollection.$"})," for events or ",(0,i.jsx)(s.code,{children:"RxDocument.myField$"})," to get the observable for a document field. To make custom reactivity objects distinguable, they are marked with double-dollar signs ",(0,i.jsx)(s.code,{children:"$$"})," instead. Here are some example on how to get custom reactivity objects from RxDB specific instances:"]}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// RxDocument"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".get$$"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'foobar'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"); "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the document field 'foobar'"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".foobar$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// same as above"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents whole document over time"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".deleted$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the deleted state of the document"})]})]})})}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// RxQuery"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" collection"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".find"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"().$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the query result set over time"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" collection"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".findOne"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"().$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the query result set over time"})]})]})})}),"\n",(0,i.jsx)(s.figure,{"data-rehype-pretty-code-figure":"",children:(0,i.jsx)(s.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,i.jsxs)(s.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,i.jsx)(s.span,{"data-line":"",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// RxLocalDocument"})}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxLocalDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".$$; "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the whole local document state"})]}),"\n",(0,i.jsxs)(s.span,{"data-line":"",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" signal"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" myRxLocalDocument"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".get$$"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'foobar'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"); "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// get signal that represents the foobar field"})]})]})})}),"\n",(0,i.jsx)(s.h2,{id:"limitations",children:"Limitations"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"TypeScript typings are not fully implemented, make a PR if something is missing or not working for you."}),"\n",(0,i.jsx)(s.li,{children:"Currently not all observables things in RxDB are implemented to work with custom reactivity. Please make a PR if you have the need for any missing one."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,s,r){r.d(s,{R:()=>a,x:()=>t});var n=r(6540);const i={},o=n.createContext(i);function a(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);