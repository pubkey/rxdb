"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[2853],{658:(e,t,i)=>{i.d(t,{a:()=>l});var n=i(6540),r=i(3028),a=i(46),o=i(4848);const l=(0,n.forwardRef)(function({centered:e=!0,maskClosable:t=!1,footer:i=null,styles:n,className:l,title:s="\u200e",children:d,...c},p){return(0,o.jsxs)(r.A,{ref:p,centered:e,maskClosable:t,footer:i,rootClassName:["my-modal",l].filter(Boolean).join(" "),styles:{content:{borderRadius:0,backgroundColor:"var(--bg-color)",color:"white",fontWeight:700,padding:16,paddingTop:12,width:"90vw",maxWidth:"100%"},header:{margin:0,padding:"16px 20px",borderBottom:"1px solid #f0f0f0"},body:{padding:0},footer:{padding:16},...n},closeIcon:(0,o.jsx)("span",{className:"my-modal__close",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:28,height:28,borderRadius:8},children:(0,o.jsx)(a.g,{clickable:!0})}),...c,children:[(0,o.jsx)("h3",{children:s}),d]})})},3319:(e,t,i)=>{i.d(t,{N:()=>d});var n=i(6540),r=i(106),a=i(4848);function o({size:e=50,onClick:t}){const i={container:{width:e,height:e,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",border:"2px solid var(--White, #FFF)",background:"linear-gradient(90deg, #ED168F 0%, #B2218B 100%)"},icon:{width:15,display:"block"}};return(0,a.jsx)("div",{style:i.container,onClick:t,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"25",viewBox:"0 0 15 25",fill:"none",style:{marginLeft:3,height:"100%"},children:(0,a.jsx)("path",{d:"M10 10V5H5V0H0V5V20V25H5V20H10V15H15V10H10Z",fill:"white"})})})}var l=i(658);const s={container:{display:"flex",flexDirection:"column",padding:"12px 12px 6px 12px",width:"275px",cursor:"pointer",boxSizing:"content-box"},thumbnailWrapper:{position:"relative",width:"100%",height:"155px",overflow:"hidden",backgroundColor:"#000"},thumbnail:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",display:"block",userDrag:"none",userSelect:"none",WebkitUserDrag:"none"},playButton:{position:"absolute",top:"50%",left:"50%",width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#ED168F",display:"flex",alignItems:"center",justifyContent:"center",transform:"translate(-50%, -50%)"},duration:{position:"absolute",bottom:"0px",right:0,fontSize:"0.875rem",fontWeight:"bold",paddingLeft:8,paddingRight:2},title:{marginTop:5,fontSize:16,fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};function d({videoId:e,title:t,duration:i,startAt:d,dark:c}){const[p,h]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1);return(0,a.jsxs)("div",{style:{...s.container,backgroundColor:c?"var(--bg-color)":"var(--bg-color-dark)"},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>{x(!0),(0,r.c)("open_video",.1),(0,r.c)("open_video_"+e,.05,1)},children:[(0,a.jsxs)("div",{style:{textDecoration:"none",color:"inherit"},children:[(0,a.jsxs)("div",{style:{...s.thumbnailWrapper},children:[(0,a.jsx)("img",{src:`https://i3.ytimg.com/vi/${e}/mqdefault.jpg`,alt:t,style:s.thumbnail,loading:"lazy",decoding:"async",referrerPolicy:"no-referrer",crossOrigin:"anonymous",fetchpriority:"low"}),(0,a.jsx)("div",{style:{...s.playButton,transform:`translate(-50%, -50%) scale(${p?1.2:1})`,transition:"transform 0.1s ease-in-out"},children:(0,a.jsx)(o,{})}),(0,a.jsx)("div",{style:{...s.duration,backgroundColor:c?"var(--bg-color)":"var(--bg-color-dark)"},children:i})]}),(0,a.jsx)("div",{style:s.title,children:t})]}),u?(0,a.jsx)(l.a,{open:u,onCancel:e=>{e.stopPropagation(),x(!1)},onClose:e=>{e.stopPropagation(),x(!1)},onOk:e=>{e.stopPropagation(),x(!1)},footer:null,width:"auto",style:{maxWidth:800},title:t,children:(0,a.jsx)("center",{children:(0,a.jsx)("iframe",{style:{borderRadius:"0px",width:"90vw",maxWidth:"100%"},height:"515",src:"https://www.youtube.com/embed/"+e+"?autoplay=1&start="+(d||0),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})}):null]})}},3894:(e,t,i)=>{i.d(t,{t:()=>o});var n=i(6540),r=i(9293),a=i(4848);function o(e){const t=[];let i=null;n.Children.toArray(e.children).forEach(e=>{const n=e,r=n?.props?.id;r?(i&&t.push(i),i={label:n.props.children,key:n.props.id,content:[]}):i&&i.content.push(e)}),i&&t.push(i);const o=t.map(e=>({key:e.key,label:e.label,children:(0,a.jsx)("div",{style:{color:"white"},children:e.content})}));return(0,a.jsx)(r.A,{type:"line",items:o,color:"red"})}},5355:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>h,contentTitle:()=>p,default:()=>m,frontMatter:()=>c,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"replication-appwrite","title":"Appwrite Realtime Sync for Local-First Apps","description":"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication.","source":"@site/docs/replication-appwrite.md","sourceDirName":".","slug":"/replication-appwrite.html","permalink":"/replication-appwrite.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Appwrite Realtime Sync for Local-First Apps","slug":"replication-appwrite.html","description":"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication."},"sidebar":"tutorialSidebar","previous":{"title":"NATS Replication","permalink":"/replication-nats.html"},"next":{"title":"RxServer","permalink":"/rx-server.html"}}');var r=i(4848),a=i(8453),o=i(3894),l=i(7580),s=i(3319),d=i(7891);const c={title:"Appwrite Realtime Sync for Local-First Apps",slug:"replication-appwrite.html",description:"Sync RxDB with Appwrite for local-first apps. Supports real-time updates, offline mode, conflict resolution, and secure push/pull replication."},p="RxDB Appwrite Replication (beta)",h={},u=[{value:"Why you should use RxDB with Appwrite?",id:"why-you-should-use-rxdb-with-appwrite",level:2},{value:"Preparing the Appwrite Server",id:"preparing-the-appwrite-server",level:2},{value:"Set up an Appwrite Endpoint and Project",id:"set-up-an-appwrite-endpoint-and-project",level:3},{value:"Self-Hosted Appwrite Instance",id:"self-hosted-appwrite-instance",level:4},{value:"Docker",id:"docker",level:5},{value:"Run the installation script",id:"run-the-installation-script",level:5},{value:"Start/Stop",id:"startstop",level:5},{value:"Appwrite Cloud",id:"appwrite-cloud",level:4},{value:"Create a Cloud Account",id:"create-a-cloud-account",level:5},{value:"Create a Project",id:"create-a-project",level:4},{value:"Create an Appwrite Database and Collection",id:"create-an-appwrite-database-and-collection",level:3},{value:"Add your documents attributes",id:"add-your-documents-attributes",level:3},{value:"Add a <code>deleted</code> attribute",id:"add-a-deleted-attribute",level:3},{value:"Set the Permission on the Appwrite Collection",id:"set-the-permission-on-the-appwrite-collection",level:3},{value:"Setting up the RxDB - Appwrite Replication",id:"setting-up-the-rxdb---appwrite-replication",level:2},{value:"Install the Appwrite SDK and RxDB:",id:"install-the-appwrite-sdk-and-rxdb",level:3},{value:"Import the Appwrite SDK and RxDB",id:"import-the-appwrite-sdk-and-rxdb",level:3},{value:"Create a Database with a Collection",id:"create-a-database-with-a-collection",level:3},{value:"Configure the Appwrite Client",id:"configure-the-appwrite-client",level:3},{value:"Appwrite Cloud",id:"appwrite-cloud-1",level:4},{value:"Self-Hosted",id:"self-hosted",level:4},{value:"Start the Replication",id:"start-the-replication",level:3},{value:"Do other things with the replication state",id:"do-other-things-with-the-replication-state",level:3},{value:"Limitations of the Appwrite Replication Plugin",id:"limitations-of-the-appwrite-replication-plugin",level:2}];function x(e){const t={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"rxdb-appwrite-replication-beta",children:"RxDB Appwrite Replication (beta)"})}),"\n",(0,r.jsxs)(t.p,{children:["This replication plugin allows you to synchronize documents between RxDB and an ",(0,r.jsx)("a",{href:"https://appwrite.io/",rel:"noopener nofollow",children:"Appwrite"})," server. It supports both push and pull replication, live updates via Appwrite's real-time subscriptions, ",(0,r.jsx)(t.a,{href:"/offline-first.html",children:"offline-capability"})," and ",(0,r.jsx)(t.a,{href:"/transactions-conflicts-revisions.html",children:"conflict resolution"}),"."]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("center",{children:(0,r.jsx)(s.N,{videoId:"L07xPMyL8sY",title:"Appwrite in 100 Seconds",duration:"2:35"})}),"\n",(0,r.jsx)(t.h2,{id:"why-you-should-use-rxdb-with-appwrite",children:"Why you should use RxDB with Appwrite?"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Appwrite"})," is a secure, open-source backend server that simplifies backend tasks like user authentication, storage, database management, and real-time APIs.",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.strong,{children:"RxDB"})," is a reactive database for the frontend that offers offline-first capabilities and rich client-side data handling."]}),"\n",(0,r.jsx)(t.p,{children:"Combining the two provides several benefits:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/offline-first.html",children:"Offline-First"}),": RxDB keeps all data locally, so your application remains fully functional even when the network is unavailable. When connectivity returns, the RxDB \u2194 Appwrite replication automatically resolves and synchronizes changes."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Real-Time Sync"}),": With Appwrite\u2019s real-time subscriptions and RxDB\u2019s live replication, you can build collaborative features that update across all clients instantaneously."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/transactions-conflicts-revisions.html",children:"Conflict Handling"}),": RxDB offers flexible conflict resolution strategies, making it simpler to handle concurrent edits across multiple users or devices."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Scalable & Secure"}),": Appwrite is built to handle production loads with granular access controls, while RxDB easily scales across various storage backends on the client side."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Simplicity & Modularity"}),": RxDB\u2019s plugin-based architecture, combined with Appwrite\u2019s Cloud offering makes it one of the easiest way to build local-first ",(0,r.jsx)(t.a,{href:"/articles/realtime-database.html",children:"realtime apps"})," that scale."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(d.u,{showServer:!1,dbIcon:"/files/icons/appwrite.svg",dbLabel:""}),"\n",(0,r.jsx)(t.h2,{id:"preparing-the-appwrite-server",children:"Preparing the Appwrite Server"}),"\n",(0,r.jsxs)(t.p,{children:["You can either use the appwrite cloud or ",(0,r.jsx)("a",{href:"https://appwrite.io/docs/advanced/self-hosting",rel:"noopener nofollow",children:"self-host the Appwrite server"}),". In this tutorial we use the Cloud which is recommended for beginners because it is way easier to set up. You can later decide to self-host if needed."]}),"\n",(0,r.jsxs)(l.g,{children:[(0,r.jsx)(t.h3,{id:"set-up-an-appwrite-endpoint-and-project",children:"Set up an Appwrite Endpoint and Project"}),(0,r.jsxs)(o.t,{children:[(0,r.jsx)(t.h4,{id:"self-hosted-appwrite-instance",children:"Self-Hosted Appwrite Instance"}),(0,r.jsxs)(l.g,{children:[(0,r.jsx)(t.h5,{id:"docker",children:"Docker"}),(0,r.jsx)(t.p,{children:"Ensure docker and docker-compose is installed and your version are up to date:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker-compose -v\n"})}),(0,r.jsx)(t.h5,{id:"run-the-installation-script",children:"Run the installation script"}),(0,r.jsxs)(t.p,{children:["The installation script runs inside of a docker container. It will create a docker-compose file and an ",(0,r.jsx)(t.code,{children:".env"})," file."]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run -it --rm \\\n    --volume /var/run/docker.sock:/var/run/docker.sock \\\n    --volume "$(pwd)"/appwrite:/usr/src/code/appwrite:rw \\\n    --entrypoint="install" \\\n    appwrite/appwrite:1.6.1\n'})}),(0,r.jsx)(t.h5,{id:"startstop",children:"Start/Stop"}),(0,r.jsx)(t.p,{children:"After the installation is done, you can manually stop and start the appwrite instance with docker compose:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"# stop\ndocker-compose down\n\n# start\ndocker-compose up\n"})})]}),(0,r.jsx)(t.h4,{id:"appwrite-cloud",children:"Appwrite Cloud"}),(0,r.jsxs)(l.g,{children:[(0,r.jsx)(t.h5,{id:"create-a-cloud-account",children:"Create a Cloud Account"}),(0,r.jsxs)(t.p,{children:["Got to the ",(0,r.jsx)("a",{href:"ttps://cloud.appwrite.io/console/login",rel:"noopener nofollow",children:"Appwrite Console"}),", create an account and login."]}),(0,r.jsx)(t.h4,{id:"create-a-project",children:"Create a Project"}),(0,r.jsxs)(t.p,{children:["At the ",(0,r.jsx)("a",{href:"https://cloud.appwrite.io/console/",rel:"noopener nofollow",children:"console"})," click the ",(0,r.jsx)(t.code,{children:"+ Create Project"})," button to create a new project. Remember the ",(0,r.jsx)(t.code,{children:"project-id"})," which will be used later."]})]})]}),(0,r.jsx)(t.h3,{id:"create-an-appwrite-database-and-collection",children:"Create an Appwrite Database and Collection"}),(0,r.jsxs)(t.p,{children:["After creating an Appwrite project you have to create an Appwrite Database and a collection, you can either do this in code with the ",(0,r.jsx)("a",{href:"https://appwrite.io/docs/products/databases/databases",rel:"noopener nofollow",children:"node-appwrite SDK"})," or in the ",(0,r.jsx)("a",{href:"https://cloud.appwrite.io/console/",rel:"noopener nofollow",children:"Appwrite Console"})," as shown in this video:"]}),(0,r.jsx)("center",{children:(0,r.jsx)(s.N,{videoId:"HGlBpna17LQ",title:"Appwrite Database Tutorial",duration:"9:47",startAt:328})}),(0,r.jsx)("br",{}),(0,r.jsx)(t.h3,{id:"add-your-documents-attributes",children:"Add your documents attributes"}),(0,r.jsxs)(t.p,{children:["In the appwrite collection, create all ",(0,r.jsx)("a",{href:"https://appwrite.io/docs/products/databases/collections#attributes",rel:"noopener nofollow",children:"attributes"})," of your documents. You have to define all the fields that your document in your ",(0,r.jsx)(t.a,{href:"/rx-schema.html",children:"RxDB schema"})," knows about. Notice that Appwrite does not allow for nested attributes. So when you use RxDB with Appwrite, you should also not have nested attributes in your RxDB schema."]}),(0,r.jsxs)(t.h3,{id:"add-a-deleted-attribute",children:["Add a ",(0,r.jsx)(t.code,{children:"deleted"})," attribute"]}),(0,r.jsx)(t.p,{children:"Appwrite (natively) hard-deletes documents. But for offline-handling RxDB needs soft-deleted documents on the server so that the deletion state can be replicated with other clients."}),(0,r.jsxs)(t.p,{children:["In RxDB, ",(0,r.jsx)(t.code,{children:"_deleted"}),' indicates that a document is removed locally and you need a similar field in your Appwrite collection on the Server: You must define a deletedField with any name to mark documents as "deleted" in the remote collection. Mostly you would use a boolean field named ',(0,r.jsx)(t.code,{children:"deleted"})," (set it to ",(0,r.jsx)(t.code,{children:"required"}),"). The plugin will treat any document with ",(0,r.jsx)(t.code,{children:"{ [deletedField]: true }"})," as deleted and replicate that state to local RxDB."]}),(0,r.jsx)(t.h3,{id:"set-the-permission-on-the-appwrite-collection",children:"Set the Permission on the Appwrite Collection"}),(0,r.jsxs)(t.p,{children:["Appwrite uses permissions to control data access on the collection level. Make sure that in the Console at ",(0,r.jsx)(t.code,{children:"Collection -> Settings -> Permissions"})," you have set the permission according to what you want to allow your clients to do. For testing, just enable all of them (Create, Read, Update and Delete)."]})]}),"\n",(0,r.jsx)(t.h2,{id:"setting-up-the-rxdb---appwrite-replication",children:"Setting up the RxDB - Appwrite Replication"}),"\n",(0,r.jsx)(t.p,{children:"Now that we have set up the Appwrite server, we can go to the client side code and set up RxDB and the replication:"}),"\n",(0,r.jsxs)(l.g,{children:[(0,r.jsx)(t.h3,{id:"install-the-appwrite-sdk-and-rxdb",children:"Install the Appwrite SDK and RxDB:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm install appwrite rxdb\n"})}),(0,r.jsx)(t.h3,{id:"import-the-appwrite-sdk-and-rxdb",children:"Import the Appwrite SDK and RxDB"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"import {\n    replicateAppwrite\n} from 'rxdb/plugins/replication-appwrite';\nimport {\n    createRxDatabase,\n    addRxPlugin,\n    RxCollection\n} from 'rxdb/plugins/core';\nimport {\n    getRxStorageLocalstorage\n} from 'rxdb/plugins/storage-localstorage';\n\nimport { Client } from 'appwrite';\n"})}),(0,r.jsx)(t.h3,{id:"create-a-database-with-a-collection",children:"Create a Database with a Collection"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const db = await createRxDatabase({\n    name: 'mydb',\n    storage: getRxStorageLocalstorage()\n});\nconst mySchema = {\n    title: 'my schema',\n    version: 0,\n    primaryKey: 'id',\n    type: 'object',\n    properties: {\n        id: {\n            type: 'string',\n            maxLength: 100\n        },\n        name: {\n            type: 'string'\n        }\n    },\n    required: ['id', 'name']\n};\nawait db.addCollections({\n    humans: {\n        schema: mySchema\n    }\n});\nconst collection = db.humans;\n"})}),(0,r.jsx)(t.h3,{id:"configure-the-appwrite-client",children:"Configure the Appwrite Client"}),(0,r.jsxs)(o.t,{children:[(0,r.jsx)(t.h4,{id:"appwrite-cloud-1",children:"Appwrite Cloud"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const client = new Client();\nclient.setEndpoint('https://cloud.appwrite.io/v1');\nclient.setEndpointRealtime('https://cloud.appwrite.io/v1');\nclient.setProject('YOUR_APPWRITE_PROJECT_ID');\n"})}),(0,r.jsx)(t.h4,{id:"self-hosted",children:"Self-Hosted"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const client = new Client();\nclient.setEndpoint('http://localhost/v1');\nclient.setEndpointRealtime('http://localhost/v1');\nclient.setProject('YOUR_APPWRITE_PROJECT_ID');\n"})})]}),(0,r.jsx)(t.h3,{id:"start-the-replication",children:"Start the Replication"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const replicationState = replicateAppwrite({\n    replicationIdentifier: 'my-appwrite-replication',\n    client,\n    databaseId: 'YOUR_APPWRITE_DATABASE_ID',\n    collectionId: 'YOUR_APPWRITE_COLLECTION_ID',\n    deletedField: 'deleted', // Field that represents deletion in Appwrite\n    collection,\n    pull: {\n        batchSize: 10,\n    },\n    push: {\n        batchSize: 10\n    },\n    /*\n     * ...\n     * You can set all other options for RxDB replication states\n     * like 'live' or 'retryTime'\n     * ...\n     */\n});\n"})}),(0,r.jsx)(t.h3,{id:"do-other-things-with-the-replication-state",children:"Do other things with the replication state"}),(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"RxAppwriteReplicationState"})," which is returned from ",(0,r.jsx)(t.code,{children:"replicateAppwrite()"})," allows you to run all functionality of the normal ",(0,r.jsx)(t.a,{href:"/replication.html",children:"RxReplicationState"}),"."]})]}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)("img",{src:"./files/icons/appwrite.svg",alt:"Appwrite Sync",height:"60"})}),"\n",(0,r.jsx)(t.h2,{id:"limitations-of-the-appwrite-replication-plugin",children:"Limitations of the Appwrite Replication Plugin"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Appwrite primary keys only allow for the characters ",(0,r.jsx)(t.code,{children:"a-z"}),", ",(0,r.jsx)(t.code,{children:"A-Z"}),", ",(0,r.jsx)(t.code,{children:"0-9"}),", and underscore ",(0,r.jsx)(t.code,{children:"_"})," (They cannot start with a leading underscore). Also the primary key has a max length of 36 characters."]}),"\n",(0,r.jsxs)(t.li,{children:["The Appwrite replication ",(0,r.jsx)(t.strong,{children:"only works on browsers"}),". This is because the Appwrite SDK does not support subscriptions in Node.js."]}),"\n",(0,r.jsx)(t.li,{children:"Appwrite does not allow for bulk write operations so on push one HTTP request will be made per document. Reads run in bulk so this is mostly not a problem."}),"\n",(0,r.jsxs)(t.li,{children:['Appwrite does not allow for transactions or "update-if" calls which can lead to overwriting documents instead of properly handling ',(0,r.jsx)(t.a,{href:"/transactions-conflicts-revisions.html#conflicts",children:"conflicts"}),' when multiple clients edit the same document in parallel. This is not a problem for inserts because "insert-if-not" calls are made.']}),"\n",(0,r.jsxs)(t.li,{children:["Nested attributes in Appwrite collections are only possible via experimental ",(0,r.jsx)("a",{href:"https://appwrite.io/docs/products/databases/relationships",rel:"noopener nofollow",children:"relationship attributes"}),", and compatibility with RxDB is not tested. Users opting to use these experimental relationship attributes with RxDB do so at their own risk."]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},7580:(e,t,i)=>{i.d(t,{g:()=>r});var n=i(4848);function r(e){const t=[];let i=null;return e.children.forEach(e=>{e.props.id?(i&&t.push(i),i={headline:e,paragraphs:[]}):i&&i.paragraphs.push(e)}),i&&t.push(i),(0,n.jsx)("div",{style:a.stepsContainer,children:t.map((e,t)=>(0,n.jsxs)("div",{style:a.stepWrapper,children:[(0,n.jsxs)("div",{style:a.stepIndicator,children:[(0,n.jsx)("div",{style:a.stepNumber,children:t+1}),(0,n.jsx)("div",{style:a.verticalLine})]}),(0,n.jsxs)("div",{style:a.stepContent,children:[(0,n.jsx)("div",{children:e.headline}),e.paragraphs.map((e,t)=>(0,n.jsx)("div",{style:a.item,children:e},t))]})]},t))})}const a={stepsContainer:{display:"flex",flexDirection:"column"},stepWrapper:{display:"flex",alignItems:"stretch",marginBottom:"1rem",position:"relative",minWidth:0},stepIndicator:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"33px",marginRight:"1rem",minWidth:0},stepNumber:{width:"33px",height:"33px",borderRadius:"50%",backgroundColor:"var(--color-middle)",border:"3px solid #391a3b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},verticalLine:{position:"absolute",top:"33px",bottom:"0",left:"50%",width:"1px",background:"linear-gradient(to bottom, var(--color-middle) 0%, var(--color-middle) 80%, rgba(0,0,0,0) 100%)",transform:"translateX(-50%)"},stepContent:{flex:1,minWidth:0,overflowWrap:"break-word"},item:{marginTop:"0.5rem"}}},7891:(e,t,i)=>{i.d(t,{u:()=>r});i(6540);var n=i(4848);function r({className:e="",style:t,clientLabels:i=["Client A","Client B","Client C"],serverLabel:r="RxServer",dbLabel:a="Backend",dbIcon:o="",showServer:l=!0}){const s="/files/logo/logo.svg",d=l?{}:{gridColumn:"2 / 5",width:"90%",marginLeft:"5%",marginRight:0};return(0,n.jsxs)("div",{className:`rxdb-diagram ${e}`,style:t,children:[(0,n.jsx)("style",{children:'\n    .rxdb-diagram {\n      color: inherit;\n      width: 100%;\n      max-width: 100%;\n      overflow: hidden;\n      margin: 0 auto;\n      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",\n                   Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";\n    }\n\n    /* Stage keeps fixed aspect ratio and scales */\n    .rxdb-diagram .stage {\n      width: 100%;\n      aspect-ratio: 816 / 336;\n      position: relative;\n    }\n\n    /* Grid fills the stage completely */\n    .rxdb-diagram .grid {\n      position: absolute;\n      inset: 0;\n      display: grid;\n      grid-template-columns:\n        26.960784% 5.882353% 31.862745% 5.882353% 29.411765%;\n      grid-template-rows:\n        23.809524% 14.285714% 23.809524% 14.285714% 23.809524%;\n      align-items: center;\n      justify-items: stretch;\n    }\n\n    .rxdb-diagram {\n      --stroke: clamp(1px, 0.35vmin, 2px);\n      --radius: clamp(8px, 1.2vmin, 14px);\n      --pad: clamp(8px, 1.2vmin, 18px);\n      --line: currentColor;\n    }\n\n    .rxdb-diagram .logo {\n      height: 1.2em;\n      width: auto;\n      display: inline-block;\n      object-fit: contain;\n      margin-right: 10px;\n    }\n\n    .rxdb-diagram .box {\n      border: var(--stroke) dashed var(--line);\n      border-radius: var(--radius);\n      background: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      font-weight: 600;\n      padding: var(--pad);\n      line-height: 1.2;\n      user-select: none;\n    }\n\n    /* Server and DB take full height of stage */\n    .rxdb-diagram .server,\n    .rxdb-diagram .db {\n      grid-row: 1 / -1;\n      height: 100%;\n    }\n\n    /* Horizontal arrows */\n    .rxdb-diagram .arrow {\n      position: relative;\n      height: 0;\n      border-top: var(--stroke) solid var(--line);\n      width: calc(100% - 20%);\n      margin-left: 10%;\n      margin-right: -1.5%;\n    }\n\n    .rxdb-diagram .arrow::before,\n    .rxdb-diagram .arrow::after {\n      content: "";\n      position: absolute;\n      top: 50%;\n      width: clamp(6px, 1.2vmin, 10px);\n      height: clamp(6px, 1.2vmin, 10px);\n      border-top: var(--stroke) solid var(--line);\n      border-right: var(--stroke) solid var(--line);\n      transform-origin: center;\n    }\n    .rxdb-diagram .arrow::before {\n      left: 0;\n      transform: translate(-0%, -60%) rotate(-135deg);\n    }\n    .rxdb-diagram .arrow::after {\n      right: 0;\n      transform: translate(0%, -60%) rotate(45deg);\n    }\n  '}),(0,n.jsx)("div",{className:"stage","aria-label":l?"Clients to RxServer to MongoDB diagram":"Clients to MongoDB diagram",children:(0,n.jsxs)("div",{className:"grid",children:[(0,n.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:1},children:[(0,n.jsx)("img",{src:s,alt:"",className:"logo","aria-hidden":!0}),i[0]||"Client A"]}),(0,n.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:1,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),l&&(0,n.jsxs)("div",{className:"box server",style:{gridColumn:3},children:[(0,n.jsx)("img",{src:s,alt:"",className:"logo","aria-hidden":!0}),r]}),l&&(0,n.jsx)("div",{className:"arrow",style:{gridColumn:4,gridRow:3},"aria-hidden":!0}),(0,n.jsxs)("div",{className:"box db",style:{gridColumn:5},children:[(0,n.jsx)("img",{src:o,alt:"",className:"logo","aria-hidden":!0}),a]}),(0,n.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:3},children:[(0,n.jsx)("img",{src:s,alt:"",className:"logo","aria-hidden":!0}),i[1]||"Client B"]}),(0,n.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:3,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0}),(0,n.jsxs)("div",{className:"box",style:{gridColumn:1,gridRow:5},children:[(0,n.jsx)("img",{src:s,alt:"",className:"logo","aria-hidden":!0}),i[2]||"Client C"]}),(0,n.jsx)("div",{className:"arrow",style:{gridColumn:l?2:d.gridColumn,gridRow:5,...l?{}:{width:"90%",marginLeft:"5%",marginRight:0}},"aria-hidden":!0})]})})]})}},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>l});var n=i(6540);const r={},a=n.createContext(r);function o(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);