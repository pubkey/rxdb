"use strict";(globalThis.webpackChunkrxdb=globalThis.webpackChunkrxdb||[]).push([[3852],{4706(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"rx-collection","title":"Master Data - Create and Manage RxCollections","description":"Discover how to create, manage, and migrate documents in RxCollections. Harness real-time data flows, secure encryption, and powerful performance in RxDB.","source":"@site/docs/rx-collection.md","sourceDirName":".","slug":"/rx-collection.html","permalink":"/rx-collection.html","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Master Data - Create and Manage RxCollections","slug":"rx-collection.html","description":"Discover how to create, manage, and migrate documents in RxCollections. Harness real-time data flows, secure encryption, and powerful performance in RxDB."},"sidebar":"tutorialSidebar","previous":{"title":"RxSchema","permalink":"/rx-schema.html"},"next":{"title":"RxDocument","permalink":"/rx-document.html"}}');var o=s(4848),i=s(8453);const a={title:"Master Data - Create and Manage RxCollections",slug:"rx-collection.html",description:"Discover how to create, manage, and migrate documents in RxCollections. Harness real-time data flows, secure encryption, and powerful performance in RxDB."},l="RxCollection",t={},c=[{value:"Creating a Collection",id:"creating-a-collection",level:2},{value:"name",id:"name",level:3},{value:"schema",id:"schema",level:3},{value:"ORM-functions",id:"orm-functions",level:3},{value:"Migration",id:"migration",level:3},{value:"Get a collection from the database",id:"get-a-collection-from-the-database",level:2},{value:"Functions",id:"functions",level:2},{value:"Observe $",id:"observe-",level:3},{value:"insert()",id:"insert",level:3},{value:"insertIfNotExists()",id:"insertifnotexists",level:3},{value:"bulkInsert()",id:"bulkinsert",level:3},{value:"bulkRemove()",id:"bulkremove",level:3},{value:"upsert()",id:"upsert",level:3},{value:"bulkUpsert()",id:"bulkupsert",level:3},{value:"incrementalUpsert()",id:"incrementalupsert",level:3},{value:"find()",id:"find",level:3},{value:"findOne()",id:"findone",level:3},{value:"findByIds()",id:"findbyids",level:3},{value:"exportJSON()",id:"exportjson",level:3},{value:"importJSON()",id:"importjson",level:3},{value:"remove()",id:"remove",level:3},{value:"close()",id:"close",level:3},{value:"onClose / onRemove()",id:"onclose--onremove",level:3},{value:"isRxCollection",id:"isrxcollection",level:3},{value:"FAQ",id:"faq",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",figure:"figure",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",span:"span",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"rxcollection",children:"RxCollection"})}),"\n",(0,o.jsx)(n.p,{children:"A collection stores documents of the same type."}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-collection",children:"Creating a Collection"}),"\n",(0,o.jsxs)(n.p,{children:["To create one or more collections you need a RxDatabase object which has the ",(0,o.jsx)(n.code,{children:".addCollections()"}),"-method. Every collection needs a collection name and a valid ",(0,o.jsx)(n.code,{children:"RxJsonSchema"}),". Other attributes are optional."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollections"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myDatabase"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".addCollections"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"  // key = collectionName"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  humans"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    schema"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" mySchema"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    statics"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"                          // (optional) ORM-functions for this collection"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    methods"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"                          // (optional) ORM-functions for documents"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    attachments"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"                      // (optional) ORM-functions for attachments"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    options"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"                          // (optional) Custom parameters that might be used in plugins"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    migrationStrategies"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"              // (optional)"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    autoMigrate"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"                    // (optional) [default=true]"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    cacheReplacementPolicy"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(){}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" // (optional) custom cache replacement policy"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    conflictHandler"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(){}         "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// (optional) a custom conflict handler can be used"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"  // you can create multiple collections at once"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  animals"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"    // ..."})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,o.jsxs)(n.p,{children:["The name uniquely identifies the collection and should be used to refine the collection in the database. Two different collections in the same database can never have the same name. Collection names must match the following regex: ",(0,o.jsx)(n.code,{children:"^[a-z][a-z0-9]*$"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"schema",children:"schema"}),"\n",(0,o.jsxs)(n.p,{children:["The schema defines how the documents of the collection are structured. RxDB uses a schema format, similar to ",(0,o.jsx)(n.a,{href:"https://json-schema.org/",children:"JSON schema"}),". Read more about the RxDB schema format ",(0,o.jsx)(n.a,{href:"/rx-schema.html",children:"here"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"orm-functions",children:"ORM-functions"}),"\n",(0,o.jsxs)(n.p,{children:["With the parameters ",(0,o.jsx)(n.code,{children:"statics"}),", ",(0,o.jsx)(n.code,{children:"methods"})," and ",(0,o.jsx)(n.code,{children:"attachments"}),", you can define ORM-functions that are applied to each of these objects that belong to this collection. See ",(0,o.jsx)(n.a,{href:"/orm.html",children:"ORM/DRM"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"migration",children:"Migration"}),"\n",(0,o.jsxs)(n.p,{children:["With the parameters ",(0,o.jsx)(n.code,{children:"migrationStrategies"})," and ",(0,o.jsx)(n.code,{children:"autoMigrate"})," you can specify how migration between different schema-versions should be done. ",(0,o.jsx)(n.a,{href:"/migration-schema.html",children:"See Migration"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"get-a-collection-from-the-database",children:"Get a collection from the database"}),"\n",(0,o.jsx)(n.p,{children:"To get an existing collection from the database, call the collection name directly on the database:"}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// newly created collection"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" collections"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".addCollections"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  heroes"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    schema"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" mySchema"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" collection2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" db"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".heroes;"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"collections"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".heroes "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" collection2); "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"//> true"})]})]})})}),"\n",(0,o.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,o.jsx)(n.h3,{id:"observe-",children:"Observe $"}),"\n",(0,o.jsxs)(n.p,{children:["Calling this will return an ",(0,o.jsx)(n.a,{href:"https://rxjs.dev/guide/observable",children:"rxjs-Observable"})," which streams every change to data of this collection."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"$"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent));"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// you can also observe single event-types with insert$ update$ remove$"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"insert$"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent));"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"update$"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent));"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"remove$"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(changeEvent));"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "})]})})}),"\n",(0,o.jsx)(n.h3,{id:"insert",children:"insert()"}),"\n",(0,o.jsx)(n.p,{children:"Use this to insert new documents into the database. The collection will validate the schema and automatically encrypt any encrypted fields. Returns the new RxDocument."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".insert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"insertifnotexists",children:"insertIfNotExists()"}),"\n",(0,o.jsxs)(n.p,{children:["The insertIfNotExists() method attempts to insert a new document into the collection only if a document with the same primary key does not already exist. This is useful for ensuring uniqueness without having to manually check for existing records before inserting or handling ",(0,o.jsx)(n.a,{href:"/transactions-conflicts-revisions.html",children:"conflicts"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Returns either the newly added ",(0,o.jsx)(n.a,{href:"/rx-document.html",children:"RxDocument"})," or the previous existing document."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".insertIfNotExists"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"bulkinsert",children:"bulkInsert()"}),"\n",(0,o.jsxs)(n.p,{children:["When you have to insert many documents at once, use bulk insert. This is much faster than calling ",(0,o.jsx)(n.code,{children:".insert()"})," multiple times.\nReturns an object with a ",(0,o.jsx)(n.code,{children:"success"}),"- and ",(0,o.jsx)(n.code,{children:"error"}),"-array."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" result"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".bulkInsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"([{"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo1'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar1'"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo2'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar2'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}]);"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// > {"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"//   success: [RxDocument, RxDocument],"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"//   error: []"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// }"})})]})})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"bulkInsert"})," will not fail on update conflicts and you cannot expect that on failure the other documents are not inserted. Also the call to ",(0,o.jsx)(n.code,{children:"bulkInsert()"})," it will not throw if a single document errors because of validation errors. Instead it will return the error in the ",(0,o.jsx)(n.code,{children:".error"})," property of the returned object."]})}),"\n",(0,o.jsx)(n.h3,{id:"bulkremove",children:"bulkRemove()"}),"\n",(0,o.jsxs)(n.p,{children:["When you want to remove many documents at once, use bulk remove. Returns an object with a ",(0,o.jsx)(n.code,{children:"success"}),"- and ",(0,o.jsx)(n.code,{children:"error"}),"-array."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" result"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".bulkRemove"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(["})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  'primary1'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  'primary2'"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"]);"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// > {"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"//   success: [RxDocument, RxDocument],"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"//   error: []"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// }"})})]})})}),"\n",(0,o.jsxs)(n.p,{children:["Instead of providing the document ids, you can also use the ",(0,o.jsx)(n.a,{href:"/rx-document.html",children:"RxDocument"})," instances. This can have better performance if your code knows them already at the moment of removing them:"]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" result"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".bulkRemove"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(["})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  myRxDocument1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  myRxDocument2"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"  /* ... */"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"]);"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"upsert",children:"upsert()"}),"\n",(0,o.jsx)(n.p,{children:"Inserts the document if it does not exist within the collection, otherwise it will overwrite it. Returns the new or overwritten RxDocument."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doc"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".upsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar2'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"});"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"bulkupsert",children:"bulkUpsert()"}),"\n",(0,o.jsxs)(n.p,{children:["Same as ",(0,o.jsx)(n.code,{children:"upsert()"})," but runs over multiple documents. Improves performance compared to running many ",(0,o.jsx)(n.code,{children:"upsert()"})," calls.\nReturns an ",(0,o.jsx)(n.code,{children:"error"})," and a ",(0,o.jsx)(n.code,{children:"success"})," array."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" docs"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".bulkUpsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(["})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  {"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar2'"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  {"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'bar'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    lastname"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo2'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"]);"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * {"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" *   success: [RxDocument, RxDocument]"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" *   error: [],"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * }"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"incrementalupsert",children:"incrementalUpsert()"}),"\n",(0,o.jsxs)(n.p,{children:["When you run many upsert operations on the same RxDocument in a very short timespan, you might get a ",(0,o.jsx)(n.code,{children:"409 Conflict"})," error.\nThis means that you tried to run a ",(0,o.jsx)(n.code,{children:".upsert()"})," on the document, while the previous upsert operation was still running.\nTo prevent these types of errors, you can run incremental upsert operations.\nThe behavior is similar to ",(0,o.jsx)(n.a,{href:"/rx-document.html#incrementalModify",children:"RxDocument.incrementalModify"}),"."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" docData"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'Bob'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" // primary"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    lastName"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'Kelso'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".upsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".upsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// -> throws because of parallel update to the same document"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".incrementalUpsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".incrementalUpsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".incrementalUpsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// wait until last upsert finished"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".incrementalUpsert"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docData);"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// -> works"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"find",children:"find()"}),"\n",(0,o.jsxs)(n.p,{children:["To find documents in your collection, use this method. ",(0,o.jsx)(n.a,{href:"/rx-query.html#find",children:"See RxQuery.find()"}),"."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// find all that are older than 18"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" olderDocuments"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" myCollection"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    .find"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    .where"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'age'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    .gt"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"18"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"    .exec"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(); "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// execute"})]})]})})}),"\n",(0,o.jsx)(n.h3,{id:"findone",children:"findOne()"}),"\n",(0,o.jsx)(n.p,{children:"This does basically what find() does, but it returns only a single document. You can pass a primary value to find a single document more easily."}),"\n",(0,o.jsxs)(n.p,{children:["To find documents in your collection, use this method. ",(0,o.jsx)(n.a,{href:"/rx-query.html#findOne",children:"See RxQuery.find()"}),"."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// get document with name:foobar"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".findOne"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  selector"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    name"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'foo'"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".exec"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".then"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(doc "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(doc));"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// get document by primary, functionally identical to above query"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".findOne"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'foo'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  .exec"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".then"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(doc "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(doc));"})]})]})})}),"\n",(0,o.jsx)(n.h3,{id:"findbyids",children:"findByIds()"}),"\n",(0,o.jsxs)(n.p,{children:["Find many documents by their id (primary value). This has a way better performance than running multiple ",(0,o.jsx)(n.code,{children:"findOne()"})," or a ",(0,o.jsx)(n.code,{children:"find()"})," with a big ",(0,o.jsx)(n.code,{children:"$or"})," selector."]}),"\n",(0,o.jsxs)(n.p,{children:["Returns a ",(0,o.jsx)(n.code,{children:"Map"})," where the primary key of the document is mapped to the document. Documents that do not exist or are deleted, will not be inside of the returned Map."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ids"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ["})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  'alice'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  'bob'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"  /* ... */"})}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"];"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" docsMap"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".findByIds"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(ids);"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(docsMap); "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// Map(2)"})]})]})})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Map"})," returned by ",(0,o.jsx)(n.code,{children:"findByIds"})," is not guaranteed to return elements in the same order as the list of ids passed to it."]})}),"\n",(0,o.jsx)(n.h3,{id:"exportjson",children:"exportJSON()"}),"\n",(0,o.jsx)(n.p,{children:"Use this function to create a json export from every document in the collection."}),"\n",(0,o.jsxs)(n.p,{children:["Before ",(0,o.jsx)(n.code,{children:"exportJSON()"})," and ",(0,o.jsx)(n.code,{children:"importJSON()"})," can be used, you have to add the ",(0,o.jsx)(n.code,{children:"json-dump"})," plugin."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"javascript","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"javascript","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { addRxPlugin } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { RxDBJsonDumpPlugin } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb/plugins/json-dump'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"addRxPlugin"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(RxDBJsonDumpPlugin);"})]})]})})}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".exportJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  .then"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(json "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".dir"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(json));"})]})]})})}),"\n",(0,o.jsx)(n.h3,{id:"importjson",children:"importJSON()"}),"\n",(0,o.jsx)(n.p,{children:"To import the json dump into your collection, use this function."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// import the dump to the database"})}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".importJSON"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(json)"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  .then"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'done'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"));"})]})]})})}),"\n",(0,o.jsx)(n.p,{children:"Note that importing will fire events for each inserted document."}),"\n",(0,o.jsx)(n.h3,{id:"remove",children:"remove()"}),"\n",(0,o.jsx)(n.p,{children:"Removes all known data of the collection and its previous versions.\nThis removes the documents, the schemas, and older schemaVersions."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".remove"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,o.jsx)(n.span,{"data-line":"",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// collection is now removed and can be re-created"})})]})})}),"\n",(0,o.jsx)(n.h3,{id:"close",children:"close()"}),"\n",(0,o.jsxs)(n.p,{children:["Removes the collection's object instance from the ",(0,o.jsx)(n.a,{href:"/rx-database.html",children:"RxDatabase"}),". This is to free up memory and stop all observers and replications. It will not delete the collections data. When you create the collection again with ",(0,o.jsx)(n.code,{children:"database.addCollections()"}),", the newly added collection will still have all data."]}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsx)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".close"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})})})}),"\n",(0,o.jsx)(n.h3,{id:"onclose--onremove",children:"onClose / onRemove()"}),"\n",(0,o.jsx)(n.p,{children:"With these you can add a function that is run when the collection was closed or removed.\nThis works even across multiple browser tabs so you can detect when another tab removes the collection\nand you application can behave accordingly."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onClose"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'I am closed'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"));"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" myCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".onRemove"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'I am removed'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"));"})]})]})})}),"\n",(0,o.jsx)(n.h3,{id:"isrxcollection",children:"isRxCollection"}),"\n",(0,o.jsx)(n.p,{children:"Returns true if the given object is an instance of RxCollection. Returns false if not."}),"\n",(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"js","data-theme":"css-variables",children:(0,o.jsx)(n.code,{"data-language":"js","data-theme":"css-variables",style:{display:"grid"},children:(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" is"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" isRxCollection"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(myObj);"})]})})})}),"\n",(0,o.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,o.jsxs)(s,{children:[(0,o.jsx)("summary",{children:"When I reload the browser window, will my collections still be in the database?"}),(0,o.jsx)("div",{children:(0,o.jsxs)(n.p,{children:["No, the javascript instance of the collections will not automatically load into the database on page reloads.\nYou have to call the ",(0,o.jsx)(n.code,{children:"addCollections()"})," method each time you create your database. This will create the JavaScript object instance of the RxCollection so that you can use it in the RxDatabase. The persisted data will be automatically in your RxCollection each time you create it."]})})]}),"\n",(0,o.jsxs)(s,{children:[(0,o.jsx)("summary",{children:"How to remove the limit of 16 collections?"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)(n.p,{children:["In the open-source version of RxDB, the amount of RxCollections that can exist in parallel is limited to ",(0,o.jsx)(n.code,{children:"16"}),".\nTo remove this limit, you can purchase the ",(0,o.jsx)(n.a,{href:"/premium/",children:"Premium Plugins"})," and call the ",(0,o.jsx)(n.code,{children:"setPremiumFlag()"})," function before creating a database:"]}),(0,o.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,o.jsx)(n.pre,{style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0","data-language":"ts","data-theme":"css-variables",children:(0,o.jsxs)(n.code,{"data-language":"ts","data-theme":"css-variables",style:{display:"grid"},children:[(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { setPremiumFlag } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'rxdb-premium/plugins/shared'"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,o.jsxs)(n.span,{"data-line":"",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"setPremiumFlag"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})]})})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>l});var r=s(6540);const o={},i=r.createContext(o);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);