<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-releases/16.0.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">RxDB 16.0.0 - Efficiency Redefined | RxDB - JavaScript Database</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" name="twitter:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" property="og:url" content="https://rxdb.info/releases/16.0.0.html"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RxDB 16.0.0 - Efficiency Redefined | RxDB - JavaScript Database"><meta data-rh="true" name="description" content="Meet RxDB 16.0.0 - major refactorings, improved performance, and easy migrations. Experience a better, faster, and more stable database solution today."><meta data-rh="true" property="og:description" content="Meet RxDB 16.0.0 - major refactorings, improved performance, and easy migrations. Experience a better, faster, and more stable database solution today."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rxdb.info/releases/16.0.0.html"><link data-rh="true" rel="alternate" href="https://rxdb.info/releases/16.0.0.html" hreflang="en"><link data-rh="true" rel="alternate" href="https://rxdb.info/releases/16.0.0.html" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62D63SY3S0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-62D63SY3S0",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-PL63TR5",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>






<meta name="theme-color" content="#ed168f">
<link rel="icon" type="image/svg+xml" href="/files/logo/logo.svg">
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" sizes="180x180">
<link rel="preconnect" href="https://consentcdn.cookiebot.com/">
<link rel="preconnect" href="https://consent.cookiebot.com/">
<link rel="preconnect" href="https://region1.analytics.google.com/">
<link rel="preconnect" href="https://www.redditstatic.com/">
<link rel="preconnect" href="https://pixel-config.reddit.com/"><link rel="stylesheet" href="/assets/css/styles.db52017c.css">
<script src="/assets/js/runtime~main.a6520067.js" defer="defer"></script>
<script src="/assets/js/main.cb5195d0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PL63TR5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/files/logo/logo_text_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/overview.html">Docs</a><div class="dropdown-wrapper"><a class="navbar__item navbar__link" dropdown="sync" href="/replication.html">Sync</a></div><div class="dropdown-wrapper"><a class="navbar__item navbar__link" dropdown="storages" href="/rx-storage.html">Storages</a></div><a class="navbar__item navbar__link" href="/premium/">Premium</a><a class="navbar__item navbar__link" href="/consulting/">Support</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="/chat/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-discord" target="_blank"> </a><a href="/code/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-github" target="_blank"> </a></div></div><div class="navbar-line" style="position:fixed;left:0;z-index:10;height:2px;width:100vw;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;transform-origin:left center;will-change:transform;backface-visibility:hidden;contain:layout;transform:scaleX(0)"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><div style="padding:10px;padding-top:30px;margin-left:auto;margin-right:auto"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" aria-label="Search" class="navbar__search-input search-bar" style="margin-left:auto;margin-right:auto;display:block"></div></div><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/overview.html"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview.html"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart.html"><span title="ðŸš€ Quickstart" class="linkLabel_WmDU">ðŸš€ Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/install.html"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev-mode.html"><span title="Development Mode" class="linkLabel_WmDU">Development Mode</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/typescript.html"><span title="TypeScript Setup" class="linkLabel_WmDU">TypeScript Setup</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-database.html"><span title="Core Entities" class="categoryLinkLabel_W154">Core Entities</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage.html"><span title="ðŸ’¾ Storages" class="categoryLinkLabel_W154">ðŸ’¾ Storages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/schema-validation.html"><span title="Storage Wrappers" class="categoryLinkLabel_W154">Storage Wrappers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/replication.html"><span title="ðŸ”„ Replication" class="categoryLinkLabel_W154">ðŸ”„ Replication</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-server.html"><span title="Server" class="categoryLinkLabel_W154">Server</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/transactions-conflicts-revisions.html"><span title="How RxDB works" class="categoryLinkLabel_W154">How RxDB works</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/migration-schema.html"><span title="Advanced Features" class="categoryLinkLabel_W154">Advanced Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage-performance.html"><span title="Performance" class="categoryLinkLabel_W154">Performance</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/releases/17.0.0.html"><span title="Releases" class="categoryLinkLabel_W154">Releases</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/17.0.0.html"><span title="17.0.0" class="linkLabel_WmDU">17.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/releases/16.0.0.html"><span title="16.0.0" class="linkLabel_WmDU">16.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/15.0.0.html"><span title="15.0.0" class="linkLabel_WmDU">15.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/14.0.0.html"><span title="14.0.0" class="linkLabel_WmDU">14.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/13.0.0.html"><span title="13.0.0" class="linkLabel_WmDU">13.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/12.0.0.html"><span title="12.0.0" class="linkLabel_WmDU">12.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/11.0.0.html"><span title="11.0.0" class="linkLabel_WmDU">11.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/10.0.0.html"><span title="10.0.0" class="linkLabel_WmDU">10.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/9.0.0.html"><span title="9.0.0" class="linkLabel_WmDU">9.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/releases/8.0.0.html"><span title="8.0.0" class="linkLabel_WmDU">8.0.0</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/articles/browser-database.html"><span title="Articles" class="categoryLinkLabel_W154">Articles</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contribution.html"><span title="Contribute" class="linkLabel_WmDU">Contribute</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/consulting/"><span title="Contact" class="categoryLinkLabel_W154">Contact</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>16.0.0</h1></header>
<p>The release <a href="https://rxdb.info/releases/16.0.0.html" target="_blank" rel="noopener noreferrer" class="">16.0.0</a> is used for major refactorings. We did not change that much, mostly renaming things and fixing confusing implementation details.</p>
<p>Data stored in the previous version <code>15</code> is compatible with the code of the new version <code>16</code> for most RxStorage implementation. So migration will be easy.
Only the following RxStorage implementations are required to migrate the data itself with the <a class="" href="/migration-storage.html">storage migration plugin</a>:</p>
<ul>
<li class="">SQLite RxStorage</li>
<li class="">NodeFilesystem RxStorage</li>
<li class="">OPFS RxStorage</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes" translate="no">â€‹</a></h2>
<ul>
<li class="">CHANGE <a href="https://rxdb.info/rx-server.html" target="_blank" rel="noopener noreferrer" class="">RxServer</a> is no longer in beta mode.</li>
<li class="">CHANGE <a href="https://rxdb.info/fulltext-search.html" target="_blank" rel="noopener noreferrer" class="">Fulltext Search</a> is no longer in beta mode.</li>
<li class="">CHANGE <a href="https://rxdb.info/reactivity.html" target="_blank" rel="noopener noreferrer" class="">Custom Reactivity</a> is no longer in beta mode.</li>
<li class="">CHANGE <a href="https://rxdb.info/replication.html" target="_blank" rel="noopener noreferrer" class="">initialCheckpoint in replications</a> is no longer in beta mode.</li>
<li class="">CHANGE <a href="https://rxdb.info/rx-state.html" target="_blank" rel="noopener noreferrer" class="">RxState</a> is no longer in beta mode.</li>
<li class="">CHANGE <a href="https://rxdb.info/rx-storage-memory-mapped.html" target="_blank" rel="noopener noreferrer" class="">MemoryMapped RxStorage</a> is no longer in beta mode.</li>
<li class="">CHANGE rename <code>randomCouchString()</code> to <code>randomToken()</code></li>
<li class="">FIX (GraphQL replication) datapath must be equivalent for pull and push <a href="https://github.com/pubkey/rxdb/pull/6019" target="_blank" rel="noopener noreferrer" class="">#6019</a></li>
<li class="">REMOVE fallback to the <code>ohash</code> package when <code>crypto.subtle</code> does not exist. All modern runtimes (also react-native) now support <code>crypto.subtle</code>, so we do not need that fallback anymore.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="removed-deprecated-lokijs-rxstorage">Removed deprecated LokiJS RxStorage<a href="#removed-deprecated-lokijs-rxstorage" class="hash-link" aria-label="Direct link to Removed deprecated LokiJS RxStorage" title="Direct link to Removed deprecated LokiJS RxStorage" translate="no">â€‹</a></h3>
<p>The <a href="https://rxdb.info/rx-storage-lokijs.html" target="_blank" rel="noopener noreferrer" class="">LokiJS RxStorage</a> was deprecated because LokiJS itself is no longer maintained. Therefore it will be removed completely. If you still need that, you can fork the code of it and publish it in an own package and link to it from the <a href="https://rxdb.info/third-party-plugins.html" target="_blank" rel="noopener noreferrer" class="">third party plugins page</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="renamed-destroy-to-close">Renamed <code>.destroy()</code> to <code>.close()</code><a href="#renamed-destroy-to-close" class="hash-link" aria-label="Direct link to renamed-destroy-to-close" title="Direct link to renamed-destroy-to-close" translate="no">â€‹</a></h3>
<p>Destroy was adapted from PouchDB, but people often think this deletes the written data. <code>close</code> is a better name for that functionality.</p>
<ul>
<li class="">Also renamed similar functions/attributes:<!-- -->
<ul>
<li class=""><code>.destroy()</code> to <code>.close()</code></li>
<li class=""><code>.onDestroy()</code> to <code>.onClose()</code></li>
<li class=""><code>postDestroyRxCollection</code> to <code>postCloseRxCollection</code></li>
<li class=""><code>preDestroyRxDatabase</code> to <code>preCloseRxDatabase</code></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ignoreduplicate-true-on-createrxdatabase-must-only-be-allowed-in-dev-mode"><code>ignoreDuplicate: true</code> on <code>createRxDatabase()</code> must only be allowed in dev-mode.<a href="#ignoreduplicate-true-on-createrxdatabase-must-only-be-allowed-in-dev-mode" class="hash-link" aria-label="Direct link to ignoreduplicate-true-on-createrxdatabase-must-only-be-allowed-in-dev-mode" title="Direct link to ignoreduplicate-true-on-createrxdatabase-must-only-be-allowed-in-dev-mode" translate="no">â€‹</a></h3>
<p>The <code>ignoreDuplicate</code> flag is only useful for tests and should never be used in production. We now throw an error if it is set to <code>true</code> in non-dev-mode.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-dev-mode-is-enabled-a-schema-validator-must-be-used">When dev-mode is enabled, a schema validator must be used.<a href="#when-dev-mode-is-enabled-a-schema-validator-must-be-used" class="hash-link" aria-label="Direct link to When dev-mode is enabled, a schema validator must be used." title="Direct link to When dev-mode is enabled, a schema validator must be used." translate="no">â€‹</a></h3>
<p>Many reported issues come from people storing data that is not valid to their schema.
To fix this, in dev-mode it is now required that at least one schema validator is used.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="removed-the-memory-synced-storage">Removed the memory-synced storage<a href="#removed-the-memory-synced-storage" class="hash-link" aria-label="Direct link to Removed the memory-synced storage" title="Direct link to Removed the memory-synced storage" translate="no">â€‹</a></h3>
<p>The memory-synced RxStorage was removed in RxDB version 16. Please use the <code>memory-mapped</code> storage instead which has better trade-offs and is easier to configure.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="split-conflict-handler-functionality-into-isequal-and-resolve">Split conflict handler functionality into <code>isEqual()</code> and <code>resolve()</code>.<a href="#split-conflict-handler-functionality-into-isequal-and-resolve" class="hash-link" aria-label="Direct link to split-conflict-handler-functionality-into-isequal-and-resolve" title="Direct link to split-conflict-handler-functionality-into-isequal-and-resolve" translate="no">â€‹</a></h3>
<p>Because the handler is used in so many places it becomes confusing to write a proper conflict handler.
Also having a handler that requires user interaction is only possible by hackingly using the context param.
By splitting the functionalities it is easier to learn where the handlers are used and how to define them properly.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="full-rewrite-of-the-opfs-and-filesystem-node-rxstorages">Full rewrite of the OPFS and Filesystem-Node RxStorages<a href="#full-rewrite-of-the-opfs-and-filesystem-node-rxstorages" class="hash-link" aria-label="Direct link to Full rewrite of the OPFS and Filesystem-Node RxStorages" title="Direct link to Full rewrite of the OPFS and Filesystem-Node RxStorages" translate="no">â€‹</a></h2>
<p>The <a class="" href="/rx-storage-opfs.html">OPFS</a> and <a class="" href="/rx-storage-filesystem-node.html">Filesystem-Node</a> RxStorage had problems with storing emojis and other special characters inside of indexed fields.
I completely rewrote them and improved performance especially on initial load when a lot of data is stored already and when doing many small writes/reads at the same time on in series.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="internal-changes">Internal Changes<a href="#internal-changes" class="hash-link" aria-label="Direct link to Internal Changes" title="Direct link to Internal Changes" translate="no">â€‹</a></h2>
<ul>
<li class="">CHANGE (internal) migration-storage plugin: Remove catch from cleanup</li>
<li class="">CHANGE (internal) rename RX_PIPELINE_CHECKPOINT_CONTEXT to <code>rx-pipeline-checkpoint</code></li>
<li class="">CHANGE (internal) remove <code>conflictResultionTasks()</code> and <code>resolveConflictResultionTask()</code> from the RxStorage interface.</li>
<li class="">REMOVED (internal) do not check for duplicate event bulks, all RxStorage implementations must guarantee to not emit the same events twice.</li>
<li class="">REFACTOR (internal) Only use event-bulks internally and only transform to single emitted events if actually someone has subscribed to the eventstream.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bugfixes">Bugfixes<a href="#bugfixes" class="hash-link" aria-label="Direct link to Bugfixes" title="Direct link to Bugfixes" translate="no">â€‹</a></h2>
<ul>
<li class="">Having a lot of documents pulled in the replication could in some cases slow down the database initialization because <code>upstreamInitialSync()</code> did not set a checkpoint and each time checked all documents if they are equal to the master.</li>
<li class="">If the handler of a <a class="" href="/rx-pipeline.html">RxPipeline</a> throws an error, block the whole pipeline and emit the error to the outside.</li>
<li class="">Throw error when dexie.js RxStorage is used with optional index fields <a href="https://github.com/pubkey/rxdb/pull/6643#issuecomment-2505310082" target="_blank" rel="noopener noreferrer" class="">#6643</a>.</li>
<li class="">Fix IndexedDB bug: Some people had problems with the IndexedDB RxStorage that opened up collections very slowly. If you had this problem, please try out this new version.</li>
<li class="">Add check to ensure remote instances are build with the same RxDB version. This is to ensure if you update RxDB and forget to rebuild your workers, it will throw instead of causing strange problems.</li>
<li class="">When the pulled documents in the replication do not match the schema, do not update the checkpoint.</li>
<li class="">When the pushed document conflict results in the replication do not match the schema, do not update the checkpoint.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="other">Other<a href="#other" class="hash-link" aria-label="Direct link to Other" title="Direct link to Other" translate="no">â€‹</a></h2>
<ul>
<li class="">Added more <a href="https://rxdb.info/rx-storage-performance.html" target="_blank" rel="noopener noreferrer" class="">performance tests</a></li>
<li class="">The amount of collections in the open source version has been limited to <code>16</code>.</li>
<li class="">Moved RxQuery checks into dev-mode.</li>
<li class="">RxQuery.remove() now internally does a bulk operation for better performance.</li>
<li class="">Lazily process bulkWrite() results for less CPU usage.</li>
<li class="">Only run interval cleanup on the storage of a collection if there actually have been writes to it.</li>
<li class="">Schema validation errors (code: 422) now include the <code>RxJsonSchema</code> for easier debugging.</li>
<li class="">Added an interval to prevent browser tab hibernation while a replication is running.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="you-can-help">You can help!<a href="#you-can-help" class="hash-link" aria-label="Direct link to You can help!" title="Direct link to You can help!" translate="no">â€‹</a></h2>
<p>There are many things that can be done by <strong>you</strong> to improve RxDB:</p>
<ul>
<li class="">Check the <a href="https://github.com/pubkey/rxdb/blob/master/orga/BACKLOG.md" target="_blank" rel="noopener noreferrer" class="">BACKLOG</a> for features that would be great to have.</li>
<li class="">Check the <a href="https://github.com/pubkey/rxdb/blob/master/orga/before-next-major.md" target="_blank" rel="noopener noreferrer" class="">breaking backlog</a> for breaking changes that must be implemented in the future but where I did not have the time yet.</li>
<li class="">Check the <a href="https://github.com/pubkey/rxdb/search?q=todo" target="_blank" rel="noopener noreferrer" class="">todos</a> in the code. There are many small improvements that can be done for performance and build size.</li>
<li class="">Review the code and add tests. I am only a single human with a laptop. My code is not perfect and much small improvements can be done when people review the code and help me to clarify undefined behaviors.</li>
<li class="">Update the <a href="https://github.com/pubkey/rxdb/tree/master/examples" target="_blank" rel="noopener noreferrer" class="">example projects</a> some of them are outdated and need updates.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="linkedin">LinkedIn<a href="#linkedin" class="hash-link" aria-label="Direct link to LinkedIn" title="Direct link to LinkedIn" translate="no">â€‹</a></h2>
<p>Stay connected with the latest updates and network with professionals in the RxDB community by following RxDB&#x27;s <a href="https://www.linkedin.com/company/rxdb" target="_blank" rel="noopener noreferrer" class="">official LinkedIn page</a>!</p></div></article><ul style="margin-top:25px;list-style-type:none"><li style="line-height:4;color:var(--expo-theme-text-secondary)">Was this page helpful?<div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div><div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer;transform:scale(1, -1)"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div></li><li><a href="/chat/" target="_blank" style="color:var(--fontColor-offwhite)"><img src="/img/community-links/discord-logo.svg" style="padding-right:16px;height:18px;vertical-align:middle" loading="lazy">Ask a question on the forums about <!-- -->16.0.0</a></li></ul><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a href="/releases/17.0.0.html" class="padding-button" style="display:inline-flex;height:auto;flex-direction:row;justify-content:left;align-items:center;gap:10px;font-size:1rem;font-weight:500;cursor:pointer;text-align:left;transition:all 0.2s ease-in-out;line-height:initial;user-select:none;box-sizing:border-box;text-decoration:none;position:relative;overflow:hidden;background:transparent;color:#fff;border:2px solid #fff;padding-top:14px;padding-bottom:14px"><span style="font-size:80%;display:contents">Previous</span><br>Â« <!-- -->17.0.0</a><a href="/releases/15.0.0.html" class="padding-button" style="display:inline-flex;height:auto;flex-direction:row;justify-content:right;align-items:center;gap:10px;font-size:1rem;font-weight:500;cursor:pointer;text-align:right;transition:all 0.2s ease-in-out;line-height:initial;user-select:none;box-sizing:border-box;text-decoration:none;position:relative;overflow:hidden;background:transparent;color:#fff;border:2px solid #fff;padding-top:14px;padding-bottom:14px"><span style="font-size:80%;display:contents">Next</span><br>15.0.0<!-- --> Â»</a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking Changes</a><ul><li><a href="#removed-deprecated-lokijs-rxstorage" class="table-of-contents__link toc-highlight">Removed deprecated LokiJS RxStorage</a></li><li><a href="#renamed-destroy-to-close" class="table-of-contents__link toc-highlight">Renamed <code>.destroy()</code> to <code>.close()</code></a></li><li><a href="#ignoreduplicate-true-on-createrxdatabase-must-only-be-allowed-in-dev-mode" class="table-of-contents__link toc-highlight"><code>ignoreDuplicate: true</code> on <code>createRxDatabase()</code> must only be allowed in dev-mode.</a></li><li><a href="#when-dev-mode-is-enabled-a-schema-validator-must-be-used" class="table-of-contents__link toc-highlight">When dev-mode is enabled, a schema validator must be used.</a></li><li><a href="#removed-the-memory-synced-storage" class="table-of-contents__link toc-highlight">Removed the memory-synced storage</a></li><li><a href="#split-conflict-handler-functionality-into-isequal-and-resolve" class="table-of-contents__link toc-highlight">Split conflict handler functionality into <code>isEqual()</code> and <code>resolve()</code>.</a></li></ul></li><li><a href="#full-rewrite-of-the-opfs-and-filesystem-node-rxstorages" class="table-of-contents__link toc-highlight">Full rewrite of the OPFS and Filesystem-Node RxStorages</a></li><li><a href="#internal-changes" class="table-of-contents__link toc-highlight">Internal Changes</a></li><li><a href="#bugfixes" class="table-of-contents__link toc-highlight">Bugfixes</a></li><li><a href="#other" class="table-of-contents__link toc-highlight">Other</a></li><li><a href="#you-can-help" class="table-of-contents__link toc-highlight">You can help!</a></li><li><a href="#linkedin" class="table-of-contents__link toc-highlight">LinkedIn</a></li></ul></div></div></div></div></main></div></div></div><div class="block footer dark"><div style="display:flex;flex-wrap:wrap;gap:44px" class="content"><div class="half left"><span><a variant="text" href="/" class="footer-logo-button"><img src="/files/logo/logo_text_white.svg" alt="RxDB" loading="lazy" class="width-140-120"></a><div class="footer-community-links"><a variant="text" href="/newsletter/" target="_blank" aria-label="Newsletter"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22.5 13.5v-7a2 2 0 0 0-2-2h-16a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"></path><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m22.5 7.5-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2.5 7.5M19.5 16.5v6M16.5 19.5h6"></path></svg></a><a variant="text" href="https://twitter.com/intent/user?screen_name=rxdbjs" target="_blank" aria-label="Twitter"><img src="/files/icons/twitter-blue.svg" alt="Twitter" loading="lazy"></a><a variant="text" href="https://www.linkedin.com/company/rxdb" target="_blank" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 21"><g clip-path="url(#a)"><path fill="#fff" d="M17.3 17.6h-3V13c0-1 0-2.5-1.6-2.5-1.5 0-1.8 1.2-1.8 2.5v4.7H8V8h2.9v1.3a3 3 0 0 1 2.9-1.6c3 0 3.6 2 3.6 4.6zM4.5 6.6a1.7 1.7 0 1 1 0-3.5 1.7 1.7 0 0 1 0 3.5m1.5 11H3V8h3zM18.8.4H1.5A1.5 1.5 0 0 0 0 1.8v17.4a1.5 1.5 0 0 0 1.5 1.4h17.3a1.5 1.5 0 0 0 1.5-1.4V1.8A1.5 1.5 0 0 0 18.8.4"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 .4h24v20.5H0z"></path></clipPath></defs></svg></a><a variant="text" href="/code/" target="_blank" aria-label="Github"><span class="navbar-icon-github" style="width:22px;height:22px;display:inline-block"></span></a><a variant="text" href="/chat/" target="_blank" aria-label="Discord"><span class="navbar-icon-discord" style="width:22px;height:22px;display:inline-block"></span></a></div></span></div><div class="half right" style="display:flex;flex:1"><div style="display:flex"><div class="footer-links min-width-180-135"><a variant="text" href="/overview.html" target="">Docs</a><a variant="text" href="/replication.html" target="">Sync</a><a variant="text" href="/rx-storage.html" target="">Storages</a><a variant="text" href="/premium/" target="_blank">Premium</a><a variant="text" href="/consulting/" target="_blank">Support</a></div><div class="footer-links min-width-180-135"><a variant="text" href="/#reviews" target="">Our Customers</a><a variant="text" href="/consulting#become-partner" target="">Become a Partner</a><a variant="text" href="/legal-notice/" target="_blank">Legal Notice</a></div></div></div></div></div><div class="navbar-line" style="display:block;z-index:10;height:1.5px;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;width:100%"></div><div class="call-to-action-popup"><div class="close-popup"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="" style="transform:scale(1);transition:transform 0.2s ease-in-out;display:inline-block;cursor:pointer"><path d="M4 16H8L8 12H4L4 16Z" fill="white"></path><path d="M0 20H4L4 16H0L0 20Z" fill="white"></path><path d="M8 11.9999H12V7.99992H8L8 11.9999Z" fill="white"></path><path d="M4 8.00008H8L8 4.00008H4L4 8.00008Z" fill="white"></path><path d="M0 4.00004L4 4.00004L4 3.8147e-05L0 3.8147e-05L0 4.00004Z" fill="white"></path><path d="M16 11.9999H12V15.9999H16V11.9999Z" fill="white"></path><path d="M20 16H16V20H20V16Z" fill="white"></path><path d="M16 4.00004H12V8.00004H16V4.00004Z" fill="white"></path><path d="M20 0H16V4H20V0Z" fill="white"></path></svg></div></div></div>
</body>
</html>