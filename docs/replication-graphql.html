<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-replication-graphql" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">GraphQL Replication | RxDB - JavaScript Database</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" name="twitter:image" content="https://rxdb.info/img/rxdb_social_card.png"><meta data-rh="true" property="og:url" content="https://rxdb.info/replication-graphql.html"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GraphQL Replication | RxDB - JavaScript Database"><meta data-rh="true" name="description" content="The GraphQL replication provides handlers for GraphQL to run replication with GraphQL as the transportation layer."><meta data-rh="true" property="og:description" content="The GraphQL replication provides handlers for GraphQL to run replication with GraphQL as the transportation layer."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rxdb.info/replication-graphql.html"><link data-rh="true" rel="alternate" href="https://rxdb.info/replication-graphql.html" hreflang="en"><link data-rh="true" rel="alternate" href="https://rxdb.info/replication-graphql.html" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62D63SY3S0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-62D63SY3S0",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-PL63TR5",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<meta name="theme-color" content="#ed168f">
<link rel="icon" type="image/svg+xml" href="/files/logo/logo.svg">
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" sizes="180x180">
<link rel="preconnect" href="https://consentcdn.cookiebot.com/">
<link rel="preconnect" href="https://consent.cookiebot.com/">
<link rel="preconnect" href="https://region1.analytics.google.com/">
<link rel="preconnect" href="https://www.redditstatic.com/">
<link rel="preconnect" href="https://pixel-config.reddit.com/"><link rel="stylesheet" href="/assets/css/styles.4573058c.css">
<script src="/assets/js/runtime~main.ccae5e9f.js" defer="defer"></script>
<script src="/assets/js/main.5a83c199.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PL63TR5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/files/logo/logo_text_white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/files/logo/logo_text_white.svg" alt="RxDB" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/overview.html">Docs</a><div class="dropdown-wrapper"><a class="navbar__item navbar__link" dropdown="sync" href="/replication.html">Sync</a></div><div class="dropdown-wrapper"><a class="navbar__item navbar__link" dropdown="storages" href="/rx-storage.html">Storages</a></div><a class="navbar__item navbar__link" href="/premium/">Premium</a><a class="navbar__item navbar__link" href="/consulting/">Support</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="/chat/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-discord" target="_blank"> </a><a href="/code/" class="navbar__item navbar__link navbar-icon navbar__item navbar-icon-github" target="_blank"> </a><div class="navbarSearchContainer_dCNk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" aria-label="Search" class="navbar__search-input search-bar" style="margin-left:auto;margin-right:auto;display:block"></div></div></div></div><div class="navbar-line" style="position:fixed;left:0;z-index:10;height:2px;width:100vw;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;transform-origin:left center;will-change:transform;backface-visibility:hidden;contain:layout;transform:scaleX(0)"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><div style="padding:10px;padding-top:30px;margin-left:auto;margin-right:auto"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" aria-label="Search" class="navbar__search-input search-bar" style="margin-left:auto;margin-right:auto;display:block"></div></div><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/overview.html"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/overview.html"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/quickstart.html"><span title="üöÄ Quickstart" class="linkLabel_WmDU">üöÄ Quickstart</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/install.html"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev-mode.html"><span title="Development Mode" class="linkLabel_WmDU">Development Mode</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/typescript.html"><span title="TypeScript Setup" class="linkLabel_WmDU">TypeScript Setup</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-database.html"><span title="Core Entities" class="categoryLinkLabel_W154">Core Entities</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage.html"><span title="üíæ Storages" class="categoryLinkLabel_W154">üíæ Storages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/schema-validation.html"><span title="Storage Wrappers" class="categoryLinkLabel_W154">Storage Wrappers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/replication.html"><span title="üîÑ Replication" class="categoryLinkLabel_W154">üîÑ Replication</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication.html"><span title="‚öôÔ∏è Sync Engine" class="linkLabel_WmDU">‚öôÔ∏è Sync Engine</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-http.html"><span title="HTTP Replication" class="linkLabel_WmDU">HTTP Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-server.html"><span title="RxServer Replication" class="linkLabel_WmDU">RxServer Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/replication-graphql.html"><span title="GraphQL Replication" class="linkLabel_WmDU">GraphQL Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-websocket.html"><span title="WebSocket Replication" class="linkLabel_WmDU">WebSocket Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-couchdb.html"><span title="CouchDB Replication" class="linkLabel_WmDU">CouchDB Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-webrtc.html"><span title="WebRTC P2P Replication" class="linkLabel_WmDU">WebRTC P2P Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-firestore.html"><span title="Firestore Replication" class="linkLabel_WmDU">Firestore Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-mongodb.html"><span title="MongoDB Replication" class="linkLabel_WmDU">MongoDB Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-supabase.html"><span title="Supabase Replication" class="linkLabel_WmDU">Supabase Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-nats.html"><span title="NATS Replication" class="linkLabel_WmDU">NATS Replication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/replication-appwrite.html"><span title="Appwrite Replication" class="linkLabel_WmDU">Appwrite Replication</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-server.html"><span title="Server" class="categoryLinkLabel_W154">Server</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/transactions-conflicts-revisions.html"><span title="How RxDB works" class="categoryLinkLabel_W154">How RxDB works</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/migration-schema.html"><span title="Advanced Features" class="categoryLinkLabel_W154">Advanced Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rx-storage-performance.html"><span title="Performance" class="categoryLinkLabel_W154">Performance</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/releases/16.0.0.html"><span title="Releases" class="categoryLinkLabel_W154">Releases</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/articles/browser-database.html"><span title="Articles" class="categoryLinkLabel_W154">Articles</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contribution.html"><span title="Contribute" class="linkLabel_WmDU">Contribute</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/consulting/"><span title="Contact" class="categoryLinkLabel_W154">Contact</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Replication with GraphQL</h1></header>
<p>The GraphQL replication provides handlers for GraphQL to run <a class="" href="/replication.html">replication</a> with GraphQL as the transportation layer.</p>
<p>The GraphQL replication is mostly used when you already have a backend that exposes a GraphQL API that can be adjusted to serve as a replication endpoint. If you do not already have a GraphQL endpoint, using the <a class="" href="/replication-http.html">HTTP replication</a> is an easier solution.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To play around, check out the full example of the RxDB <a href="https://github.com/pubkey/rxdb/tree/master/examples/graphql" target="_blank" rel="noopener noreferrer" class="">GraphQL replication with server and client</a></p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" translate="no">‚Äã</a></h2>
<p>Before you use the GraphQL replication, make sure you&#x27;ve learned how the <a class="" href="/replication.html">RxDB replication</a> works.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-compatible-graphql-server">Creating a compatible GraphQL Server<a href="#creating-a-compatible-graphql-server" class="hash-link" aria-label="Direct link to Creating a compatible GraphQL Server" title="Direct link to Creating a compatible GraphQL Server" translate="no">‚Äã</a></h3>
<p>At the server-side, there must exist an endpoint which returns newer rows when the last <code>checkpoint</code> is used as input. For example lets say you create a <code>Query</code> <code>pullHuman</code> which returns a list of document writes that happened after the given checkpoint.</p>
<p>For the push-replication, you also need a <code>Mutation</code> <code>pushHuman</code> which lets RxDB update data of documents by sending the previous document state and the new client document state.
Also for being able to stream all ongoing events, we need a <code>Subscription</code> called <code>streamHuman</code>.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="graphql" data-theme="css-variables"><code data-language="graphql" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">input</span><span style="color:var(--shiki-token-constant)"> HumanInput</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    id: </span><span style="color:var(--shiki-token-constant)">ID</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    name: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    lastName: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    updatedAt: </span><span style="color:var(--shiki-token-constant)">Float</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    deleted: </span><span style="color:var(--shiki-token-constant)">Boolean</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> Human</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    id: </span><span style="color:var(--shiki-token-constant)">ID</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    name: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    lastName: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    updatedAt: </span><span style="color:var(--shiki-token-constant)">Float</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    deleted: </span><span style="color:var(--shiki-token-constant)">Boolean</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">input</span><span style="color:var(--shiki-token-constant)"> Checkpoint</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    id: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    updatedAt: </span><span style="color:var(--shiki-token-constant)">Float</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> HumanPullBulk</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    documents: [</span><span style="color:var(--shiki-token-constant)">Human</span><span style="color:var(--shiki-foreground)">]</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    checkpoint: </span><span style="color:var(--shiki-token-constant)">Checkpoint</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> Query</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    pullHuman(checkpoint: </span><span style="color:var(--shiki-token-constant)">Checkpoint</span><span style="color:var(--shiki-foreground)">, limit: </span><span style="color:var(--shiki-token-constant)">Int</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">): </span><span style="color:var(--shiki-token-constant)">HumanPullBulk</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">input</span><span style="color:var(--shiki-token-constant)"> HumanInputPushRow</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    assumedMasterState: </span><span style="color:var(--shiki-token-constant)">HeroInputPushRowT0AssumedMasterStateT0</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    newDocumentState: </span><span style="color:var(--shiki-token-constant)">HeroInputPushRowT0NewDocumentStateT0</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> Mutation</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">    # Returns a list of all conflicts</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">    # If no document write caused a conflict, return an empty list.</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    pushHuman(rows: [</span><span style="color:var(--shiki-token-constant)">HumanInputPushRow</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">]): [</span><span style="color:var(--shiki-token-constant)">Human</span><span style="color:var(--shiki-foreground)">]</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)"># headers are used to authenticate the subscriptions</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)"># over websockets.</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">input</span><span style="color:var(--shiki-token-constant)"> Headers</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    AUTH_TOKEN: </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> Subscription</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    streamHuman(headers: </span><span style="color:var(--shiki-token-constant)">Headers</span><span style="color:var(--shiki-foreground)">): </span><span style="color:var(--shiki-token-constant)">HumanPullBulk</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>The GraphQL resolver for the <code>pullHuman</code> would then look like:</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> rootValue</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-function)">    pullHuman</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> args </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> minId</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-constant)"> args</span><span style="color:var(--shiki-foreground)">.checkpoint </span><span style="color:var(--shiki-token-keyword)">?</span><span style="color:var(--shiki-token-constant)"> args</span><span style="color:var(--shiki-foreground)">.</span><span style="color:var(--shiki-token-constant)">checkpoint</span><span style="color:var(--shiki-foreground)">.id </span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;&#x27;</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> minUpdatedAt</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-constant)"> args</span><span style="color:var(--shiki-foreground)">.checkpoint </span><span style="color:var(--shiki-token-keyword)">?</span><span style="color:var(--shiki-token-constant)"> args</span><span style="color:var(--shiki-foreground)">.</span><span style="color:var(--shiki-token-constant)">checkpoint</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 0</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // sorted by updatedAt first and the id as second</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> sortedDocuments</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-constant)"> documents</span><span style="color:var(--shiki-token-function)">.sort</span><span style="color:var(--shiki-foreground)">((a</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-foreground)"> b) </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-token-constant)"> b</span><span style="color:var(--shiki-foreground)">.updatedAt) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-constant)"> 1</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-constant)"> b</span><span style="color:var(--shiki-foreground)">.updatedAt) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">===</span><span style="color:var(--shiki-token-constant)"> b</span><span style="color:var(--shiki-foreground)">.updatedAt) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-foreground)">.id </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-token-constant)"> b</span><span style="color:var(--shiki-foreground)">.id) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-constant)"> 1</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-foreground)">.id </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-constant)"> b</span><span style="color:var(--shiki-foreground)">.id) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            else</span><span style="color:var(--shiki-token-keyword)"> return</span><span style="color:var(--shiki-token-constant)"> 0</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        });</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // only return documents newer than the input document</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> filterForMinUpdatedAtAndId</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-constant)"> sortedDocuments</span><span style="color:var(--shiki-token-function)">.filter</span><span style="color:var(--shiki-foreground)">(doc </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">doc</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-foreground)"> minUpdatedAt) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-constant)"> false</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">doc</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-foreground)"> minUpdatedAt) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-constant)"> true</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">            if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">doc</span><span style="color:var(--shiki-foreground)">.updatedAt </span><span style="color:var(--shiki-token-keyword)">===</span><span style="color:var(--shiki-foreground)"> minUpdatedAt) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                // if updatedAt is equal, compare by id</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-constant)">doc</span><span style="color:var(--shiki-foreground)">.id </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-foreground)"> minId) </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-token-constant)"> true</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                else</span><span style="color:var(--shiki-token-keyword)"> return</span><span style="color:var(--shiki-token-constant)"> false</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        });</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // only return some documents in one batch</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> limitedDocs</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-constant)"> filterForMinUpdatedAtAndId</span><span style="color:var(--shiki-token-function)">.slice</span><span style="color:var(--shiki-foreground)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-constant)"> args</span><span style="color:var(--shiki-foreground)">.limit);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // use the last document for the checkpoint</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> lastDoc</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> limitedDocs[</span><span style="color:var(--shiki-token-constant)">limitedDocs</span><span style="color:var(--shiki-foreground)">.</span><span style="color:var(--shiki-token-constant)">length</span><span style="color:var(--shiki-token-keyword)"> -</span><span style="color:var(--shiki-token-constant)"> 1</span><span style="color:var(--shiki-foreground)">];</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        const</span><span style="color:var(--shiki-token-constant)"> retCheckpoint</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> lastDoc</span><span style="color:var(--shiki-foreground)">.id</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            updatedAt</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> lastDoc</span><span style="color:var(--shiki-foreground)">.updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        return</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            documents</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> limitedDocs</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            checkpoint</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> retCheckpoint</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">        return</span><span style="color:var(--shiki-foreground)"> limited;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>For examples for the other resolvers, consult the <a href="https://github.com/pubkey/rxdb/blob/master/examples/graphql/server/index.js" target="_blank" rel="noopener noreferrer" class="">GraphQL Example Project</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rxdb-client">RxDB Client<a href="#rxdb-client" class="hash-link" aria-label="Direct link to RxDB Client" title="Direct link to RxDB Client" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pull-replication">Pull replication<a href="#pull-replication" class="hash-link" aria-label="Direct link to Pull replication" title="Direct link to Pull replication" translate="no">‚Äã</a></h4>
<p>For the pull-replication, you first need a <code>pullQueryBuilder</code>. This is a function that gets the last replication <code>checkpoint</code> and a <code>limit</code> as input and returns an object with a GraphQL-query and its variables (or a promise that resolves to the same object). RxDB will use the query builder to construct what is later sent to the GraphQL endpoint.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-function)"> pullQueryBuilder</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> (checkpoint</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-foreground)"> limit) </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">    /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">     * The first pull does not have a checkpoint</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">     * so we fill it up with defaults</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">     */</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    if</span><span style="color:var(--shiki-foreground)"> (</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">checkpoint) {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        checkpoint </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            updatedAt</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 0</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        };</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    const</span><span style="color:var(--shiki-token-constant)"> query</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-string-expression)"> `query PullHuman($checkpoint: CheckpointInput, $limit: Int!) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        pullHuman(checkpoint: $checkpoint, limit: $limit) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            documents {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                id</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                name</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                age</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                deleted</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            checkpoint {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                id</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">    }`</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    return</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        query</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        operationName</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;PullHuman&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        variables</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            checkpoint</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            limit</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    };</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">};</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>With the queryBuilder, you can then setup the pull-replication.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-foreground)"> { replicateGraphQL } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-token-string-expression)"> &#x27;rxdb/plugins/replication-graphql&#x27;</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // urls to the GraphQL endpoints</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            http</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;http://example.com/graphql&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            queryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pullQueryBuilder</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // the queryBuilder from above</span></span>
<span data-line=""><span style="color:var(--shiki-token-function)">            modifier</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> doc </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> doc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // (optional) modifies all pulled documents before they are handled by RxDB</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            dataPath</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> undefined</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // (optional) specifies the object path to access the document(s). Otherwise, the first result of the response data is used.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * Amount of documents that the remote will send in one request.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * If the response contains less than [batchSize] documents,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * RxDB will assume there are no more changes on the backend</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * that are not replicated.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * This value is the same as the limit in the pullHuman() schema.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * [default=100]</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            batchSize</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 50</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // headers which will be used in http requests against the server.</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            Authorization</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;Bearer abcde...&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">         * Options that have been inherited from the RxReplication</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">         */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        deletedField</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;deleted&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        live</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> true</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        retryTime </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)"> 1000</span><span style="color:var(--shiki-token-keyword)"> *</span><span style="color:var(--shiki-token-constant)"> 5</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        waitForLeadership </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)"> true</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        autoStart </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-constant)"> true</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-replication">Push replication<a href="#push-replication" class="hash-link" aria-label="Direct link to Push replication" title="Direct link to Push replication" translate="no">‚Äã</a></h4>
<p>For the push-replication, you also need a <code>queryBuilder</code>. Here, the builder receives a changed document as input which has to be send to the server. It also returns a GraphQL-Query and its data.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-function)"> pushQueryBuilder</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> rows </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    const</span><span style="color:var(--shiki-token-constant)"> query</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-string-expression)"> `</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">    mutation PushHuman($writeRows: [HumanInputPushRow!]) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        pushHuman(writeRows: $writeRows) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            id</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            name</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            age</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            deleted</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">    `</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    const</span><span style="color:var(--shiki-token-constant)"> variables</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        writeRows</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> rows</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    };</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    return</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        query</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        operationName</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;PushHuman&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        variables</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    };</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">};</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>With the queryBuilder, you can then setup the push-replication.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // urls to the GraphQL endpoints</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            http</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;http://example.com/graphql&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        push</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            queryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pushQueryBuilder</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // the queryBuilder from above</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * batchSize (optional)</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * Amount of document that will be pushed to the server in a single request.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            batchSize</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 5</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * modifier (optional)</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * Modifies all pushed documents before they are send to the GraphQL endpoint.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             * Returning null will skip the document.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">             */</span></span>
<span data-line=""><span style="color:var(--shiki-token-function)">            modifier</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> doc </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> doc</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            Authorization</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;Bearer abcde...&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pull-stream">Pull Stream<a href="#pull-stream" class="hash-link" aria-label="Direct link to Pull Stream" title="Direct link to Pull Stream" translate="no">‚Äã</a></h4>
<p>To create a <strong>realtime</strong> replication, you need to create a pull stream that pulls ongoing writes from the server.
The pull stream gets the <code>headers</code> of the <code>RxReplicationState</code> as input, so that it can be authenticated on the backend.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-function)"> pullStreamQueryBuilder</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> (headers) </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    const</span><span style="color:var(--shiki-token-constant)"> query</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-string-expression)"> `subscription onStream($headers: Headers) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        streamHero(headers: $headers) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            documents {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                id,</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                name,</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                age,</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                updatedAt,</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                deleted</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            },</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            checkpoint {</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                id</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">                updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">        }</span></span>
<span data-line=""><span style="color:var(--shiki-token-string-expression)">    }`</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">    return</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        query</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        variables</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            headers</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    };</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">};</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>With the <code>pullStreamQueryBuilder</code> you can then start a realtime replication.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        // urls to the GraphQL endpoints</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            http</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;http://example.com/graphql&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            ws</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;ws://example.com/subscriptions&#x27;</span><span style="color:var(--shiki-token-comment)"> // &lt;- The websocket has to use a different url.</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        push</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            batchSize</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 100</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            queryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pushQueryBuilder</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            Authorization</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;Bearer abcde...&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            batchSize</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 100</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            queryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pullQueryBuilder</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            streamQueryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pullStreamQueryBuilder</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            includeWsHeaders</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> false</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // Includes headers as connection parameter to Websocket.</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            // Websocket options that can be passed as a parameter to initialize the subscription</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            // Can be applied anything from the graphql-ws ClientOptions - https://the-guild.dev/graphql/ws/docs/interfaces/client.ClientOptions</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            // Except these parameters: &#x27;url&#x27;, &#x27;shouldRetry&#x27;, &#x27;webSocketImpl&#x27; - locked for internal usage</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            // Note: if you provide connectionParams as a wsOption, make sure it returns any necessary headers (e.g. authorization)</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">            // because providing your own connectionParams prevents headers from being included automatically</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            wsOptions</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> { </span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                retryAttempts</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> 10</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        deletedField</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;deleted&#x27;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If it is not possible to create a websocket server on your backend, you can use any other method of pull out the ongoing events from the backend and then you can send them into <code>RxReplicationState.emitEvent()</code>.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="transforming-null-to-undefined-in-optional-fields">Transforming null to undefined in optional fields<a href="#transforming-null-to-undefined-in-optional-fields" class="hash-link" aria-label="Direct link to Transforming null to undefined in optional fields" title="Direct link to Transforming null to undefined in optional fields" translate="no">‚Äã</a></h3>
<p>GraphQL fills up non-existent optional values with <code>null</code> while RxDB required them to be <code>undefined</code>.
Therefore, if your schema contains optional properties, you have to transform the pulled data to switch out <code>null</code> to <code>undefined</code></p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-function)"> RxGraphQLReplicationState</span><span style="color:var(--shiki-foreground)">&lt;</span><span style="color:var(--shiki-token-function)">RxDocType</span><span style="color:var(--shiki-foreground)">&gt; </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        push</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            queryBuilder</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> pullQueryBuilder</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            modifier</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> (doc </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                // We have to remove optional non-existent field values</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                // they are set as null by GraphQL but should be undefined</span></span>
<span data-line=""><span style="color:var(--shiki-token-constant)">                Object</span><span style="color:var(--shiki-token-function)">.entries</span><span style="color:var(--shiki-foreground)">(doc)</span><span style="color:var(--shiki-token-function)">.forEach</span><span style="color:var(--shiki-foreground)">(([k</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-foreground)"> v]) </span><span style="color:var(--shiki-token-keyword)">=&gt;</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                    if</span><span style="color:var(--shiki-foreground)"> (v </span><span style="color:var(--shiki-token-keyword)">===</span><span style="color:var(--shiki-token-constant)"> null</span><span style="color:var(--shiki-foreground)">) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                        delete</span><span style="color:var(--shiki-foreground)"> doc[k];</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                });</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                return</span><span style="color:var(--shiki-foreground)"> doc;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            })</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pullresponsemodifier">pull.responseModifier<a href="#pullresponsemodifier" class="hash-link" aria-label="Direct link to pull.responseModifier" title="Direct link to pull.responseModifier" translate="no">‚Äã</a></h3>
<p>With the <code>pull.responseModifier</code> you can modify the whole response from the GraphQL endpoint <strong>before</strong> it is processed by RxDB.
For example if your endpoint is not capable of returning a valid checkpoint, but instead only returns the plain document array, you can use the <code>responseModifier</code> to aggregate the checkpoint from the returned documents.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="ts" data-theme="css-variables"><code data-language="ts" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-foreground)">} </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-token-string-expression)"> &#x27;rxdb&#x27;</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-function)"> RxGraphQLReplicationState</span><span style="color:var(--shiki-foreground)">&lt;</span><span style="color:var(--shiki-token-function)">RxDocType</span><span style="color:var(--shiki-foreground)">&gt; </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        push</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-function)">            responseModifier</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-keyword)"> async</span><span style="color:var(--shiki-token-keyword)"> function</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                plainResponse</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // the exact response that was returned from the server</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                origin</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-token-comment)"> // either &#x27;handler&#x27; if plainResponse came from the pull.handler, or &#x27;stream&#x27; if it came from the pull.stream</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                requestCheckpoint </span><span style="color:var(--shiki-token-comment)">// if origin===&#x27;handler&#x27;, the requestCheckpoint contains the checkpoint that was send to the backend</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            ) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                 * In this example we aggregate the checkpoint from the documents array</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                 * that was returned from the graphql endpoint.</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                 */</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                const</span><span style="color:var(--shiki-token-constant)"> docs</span><span style="color:var(--shiki-token-keyword)"> =</span><span style="color:var(--shiki-foreground)"> plainResponse;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                return</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                    documents</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> docs</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                    checkpoint</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-constant)"> docs</span><span style="color:var(--shiki-foreground)">.</span><span style="color:var(--shiki-token-constant)">length</span><span style="color:var(--shiki-token-keyword)"> ===</span><span style="color:var(--shiki-token-constant)"> 0</span><span style="color:var(--shiki-token-keyword)"> ?</span><span style="color:var(--shiki-foreground)"> requestCheckpoint </span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                        name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-function)"> lastOfArray</span><span style="color:var(--shiki-foreground)">(docs).name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                        updatedAt</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-function)"> lastOfArray</span><span style="color:var(--shiki-foreground)">(docs).updatedAt</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">                };</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pushresponsemodifier">push.responseModifier<a href="#pushresponsemodifier" class="hash-link" aria-label="Direct link to push.responseModifier" title="Direct link to push.responseModifier" translate="no">‚Äã</a></h3>
<p>It&#x27;s also possible to modify the response of a push mutation. For example if your server returns more than the just conflicting docs:</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="graphql" data-theme="css-variables"><code data-language="graphql" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> PushResponse</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    conflicts: [</span><span style="color:var(--shiki-token-constant)">Human</span><span style="color:var(--shiki-foreground)">]</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    conflictMessages: [</span><span style="color:var(--shiki-token-constant)">ReplicationConflictMessage</span><span style="color:var(--shiki-foreground)">]</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-constant)"> Mutation</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">    # Returns a PushResponse type that contains the conflicts along with other information</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    pushHuman(rows: [</span><span style="color:var(--shiki-token-constant)">HumanInputPushRow</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-foreground)">]): </span><span style="color:var(--shiki-token-constant)">PushResponse</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">}</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="ts" data-theme="css-variables"><code data-language="ts" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-foreground)"> {} </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-token-string-expression)"> &quot;rxdb&quot;</span><span style="color:var(--shiki-foreground)">;</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-token-constant)"> replicationState</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-function)"> RxGraphQLReplicationState</span><span style="color:var(--shiki-foreground)">&lt;</span><span style="color:var(--shiki-token-function)">RxDocType</span><span style="color:var(--shiki-foreground)">&gt; </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-function)"> replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        url</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        headers</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        push</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span></span>
<span data-line=""><span style="color:var(--shiki-token-function)">            responseModifier</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-keyword)"> async</span><span style="color:var(--shiki-token-keyword)"> function</span><span style="color:var(--shiki-foreground)"> (plainResponse) {</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                /**</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                 * In this example we aggregate the conflicting documents from a response object</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">                 */</span></span>
<span data-line=""><span style="color:var(--shiki-token-keyword)">                return</span><span style="color:var(--shiki-token-constant)"> plainResponse</span><span style="color:var(--shiki-foreground)">.conflicts;</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">            }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        pull</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> {</span><span style="color:var(--shiki-token-comment)">/* ... */</span><span style="color:var(--shiki-foreground)">}</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="helper-functions">Helper Functions<a href="#helper-functions" class="hash-link" aria-label="Direct link to Helper Functions" title="Direct link to Helper Functions" translate="no">‚Äã</a></h4>
<p>RxDB provides the helper functions <code>graphQLSchemaFromRxSchema()</code>, <code>pullQueryBuilderFromRxSchema()</code>, <code>pullStreamBuilderFromRxSchema()</code> and <code>pushQueryBuilderFromRxSchema()</code> that can be used to generate handlers and schemas from the <code>RxJsonSchema</code>. To learn how to use them, please inspect the <a href="https://github.com/pubkey/rxdb/tree/master/examples/graphql" target="_blank" rel="noopener noreferrer" class="">GraphQL Example</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rxgraphqlreplicationstate">RxGraphQLReplicationState<a href="#rxgraphqlreplicationstate" class="hash-link" aria-label="Direct link to RxGraphQLReplicationState" title="Direct link to RxGraphQLReplicationState" translate="no">‚Äã</a></h3>
<p>When you call <code>myCollection.syncGraphQL()</code> it returns a <code>RxGraphQLReplicationState</code> which can be used to subscribe to events, for debugging or other functions. It extends the <a class="" href="/replication.html">RxReplicationState</a> with some GraphQL specific methods.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="setheaders">.setHeaders()<a href="#setheaders" class="hash-link" aria-label="Direct link to .setHeaders()" title="Direct link to .setHeaders()" translate="no">‚Äã</a></h4>
<p>Changes the headers for the replication after it has been set up.</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-constant)">replicationState</span><span style="color:var(--shiki-token-function)">.setHeaders</span><span style="color:var(--shiki-foreground)">({</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    Authorization</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> `...`</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">});</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sending-cookies">Sending Cookies<a href="#sending-cookies" class="hash-link" aria-label="Direct link to Sending Cookies" title="Direct link to Sending Cookies" translate="no">‚Äã</a></h4>
<p>The underlying fetch framework uses a <code>same-origin</code> policy for credentials per default. That means, cookies and session data is only shared if you backend and frontend run on the same domain and port. Pass the credential parameter to <code>include</code> cookies in requests to servers from different origins via:</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-constant)">replicationState</span><span style="color:var(--shiki-token-function)">.setCredentials</span><span style="color:var(--shiki-foreground)">(</span><span style="color:var(--shiki-token-string-expression)">&#x27;include&#x27;</span><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>or directly pass it in the <code>replicateGraphQL</code> function:</p>
<figure data-rehype-pretty-code-figure=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="position:relative;--prism-background-color:var(--bg-color-code);--prism-color:var(--shiki-foreground)"><pre style="background-color:var(--shiki-background);color:var(--shiki-foreground)" tabindex="0" data-language="js" data-theme="css-variables"><code data-language="js" data-theme="css-variables" style="display:grid"><span data-line=""><span style="color:var(--shiki-token-function)">replicateGraphQL</span><span style="color:var(--shiki-foreground)">(</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    {</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        collection</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-foreground)"> myRxCollection</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">        credentials</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-token-string-expression)"> &#x27;include&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span data-line=""><span style="color:var(--shiki-token-comment)">        /* ... */</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">    }</span></span>
<span data-line=""><span style="color:var(--shiki-foreground)">);</span></span></code></pre><div class="buttonGroup_M5ko"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_IEyt" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_TrPX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_cVMy"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></figure>
<p>See <a href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" target="_blank" rel="noopener noreferrer" class="">the fetch spec</a> for more information about available options.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To play around, check out the full example of the RxDB <a href="https://github.com/pubkey/rxdb/tree/master/examples/graphql" target="_blank" rel="noopener noreferrer" class="">GraphQL replication with server and client</a></p></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/replication-server.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RxServer Replication</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/replication-websocket.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WebSocket Replication</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#creating-a-compatible-graphql-server" class="table-of-contents__link toc-highlight">Creating a compatible GraphQL Server</a></li><li><a href="#rxdb-client" class="table-of-contents__link toc-highlight">RxDB Client</a></li><li><a href="#transforming-null-to-undefined-in-optional-fields" class="table-of-contents__link toc-highlight">Transforming null to undefined in optional fields</a></li><li><a href="#pullresponsemodifier" class="table-of-contents__link toc-highlight">pull.responseModifier</a></li><li><a href="#pushresponsemodifier" class="table-of-contents__link toc-highlight">push.responseModifier</a></li><li><a href="#rxgraphqlreplicationstate" class="table-of-contents__link toc-highlight">RxGraphQLReplicationState</a></li></ul></li></ul></div></div></div><ul style="margin-top:25px;list-style-type:none"><li style="line-height:4;color:var(--expo-theme-text-secondary)">Was this page helpful?<div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div><div style="border-radius:3px;border-color:var(--fontColor-offwhite);border-style:solid;border-width:1px;vertical-align:middle;padding:5px;padding-left:8px;padding-right:8px;text-align:center;justify-content:center;display:inline-flex;margin-left:20px;cursor:pointer;transform:scale(1, -1)"><img src="/img/thumbs-up-white.svg" loading="lazy" height="14"></div></li><li><a href="/chat/" target="_blank" style="color:var(--fontColor-offwhite)"><img src="/img/community-links/discord-logo.svg" style="padding-right:16px;height:18px;vertical-align:middle" loading="lazy">Ask a question on the forums about <!-- -->GraphQL Replication</a></li></ul></div></main></div></div></div><div class="block footer dark"><div style="display:flex;flex-wrap:wrap;gap:44px" class="content"><div class="half left"><span><a variant="text" href="/" class="footer-logo-button"><img src="/files/logo/logo_text_white.svg" alt="RxDB" loading="lazy" class="width-140-120"></a><div class="footer-community-links"><a variant="text" href="/newsletter/" target="_blank" aria-label="Newsletter"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22.5 13.5v-7a2 2 0 0 0-2-2h-16a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"></path><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m22.5 7.5-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2.5 7.5M19.5 16.5v6M16.5 19.5h6"></path></svg></a><a variant="text" href="https://twitter.com/intent/user?screen_name=rxdbjs" target="_blank" aria-label="Twitter"><img src="/files/icons/twitter-blue.svg" alt="Twitter" loading="lazy"></a><a variant="text" href="https://www.linkedin.com/company/rxdb" target="_blank" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 21"><g clip-path="url(#a)"><path fill="#fff" d="M17.3 17.6h-3V13c0-1 0-2.5-1.6-2.5-1.5 0-1.8 1.2-1.8 2.5v4.7H8V8h2.9v1.3a3 3 0 0 1 2.9-1.6c3 0 3.6 2 3.6 4.6zM4.5 6.6a1.7 1.7 0 1 1 0-3.5 1.7 1.7 0 0 1 0 3.5m1.5 11H3V8h3zM18.8.4H1.5A1.5 1.5 0 0 0 0 1.8v17.4a1.5 1.5 0 0 0 1.5 1.4h17.3a1.5 1.5 0 0 0 1.5-1.4V1.8A1.5 1.5 0 0 0 18.8.4"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 .4h24v20.5H0z"></path></clipPath></defs></svg></a><a variant="text" href="/code/" target="_blank" aria-label="Github"><span class="navbar-icon-github" style="width:22px;height:22px;display:inline-block"></span></a><a variant="text" href="/chat/" target="_blank" aria-label="Discord"><span class="navbar-icon-discord" style="width:22px;height:22px;display:inline-block"></span></a></div></span></div><div class="half right" style="display:flex;flex:1"><div style="display:flex"><div class="footer-links min-width-180-135"><a variant="text" href="/overview.html" target="">Docs</a><a variant="text" href="/replication.html" target="">Sync</a><a variant="text" href="/rx-storage.html" target="">Storages</a><a variant="text" href="/premium/" target="_blank">Premium</a><a variant="text" href="/consulting/" target="_blank">Support</a></div><div class="footer-links min-width-180-135"><a variant="text" href="/#reviews" target="">Our Customers</a><a variant="text" href="/consulting#become-partner" target="">Become a Partner</a><a variant="text" href="/legal-notice/" target="_blank">Legal Notice</a></div></div></div></div></div><div class="navbar-line" style="display:block;z-index:10;height:1.5px;background-color:var(--color-top);border-top-right-radius:2px;border-bottom-right-radius:2px;width:100%"></div><div class="call-to-action-popup"><div class="close"><div class="text">‚úï</div></div></div></div>
</body>
</html>